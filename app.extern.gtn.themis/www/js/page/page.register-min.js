var page_register={config:null,constructor:function(){},creator:function(a){var e=null;try{var f=a.find("div[data-role=header]");var d=a.find("div[data-role=content]");var b=a.find("div#nav-panel");d.append(app.ni.element.h1({text:app.lang.string("register","headlines")}));d.append(app.ni.text.text({id:"txtEmail",placeholder:app.lang.string("email","labels"),label:true,labelText:app.lang.string("email","labels"),container:true}));d.append(app.ni.text.password({id:"txtPassword",placeholder:app.lang.string("password","labels"),label:true,labelText:app.lang.string("password","labels"),container:true}));d.append(app.ni.text.password({id:"txtPasswordRpt",placeholder:app.lang.string("password_rpt","labels"),label:true,labelText:app.lang.string("password_rpt","labels"),container:true}));d.append(app.ni.button.button({id:"btnRegister",placeholder:app.lang.string("register","labels"),label:true,labelText:app.lang.string("register","labels"),container:true,value:app.lang.string("register","actions")}));e=true}catch(c){app.debug.log(JSON.stringify(c,null,4));e=false}return e},setEvents:function(a){var c=null;try{$(a).on("click","#btnRegister",function(){if(!app.help.validate.email(a.find("#txtEmail").val())){app.notify.alert(app.lang.string("bad_email","notifications"),app.lang.string("register","headlines"),app.lang.string("register","headlines"))}else{if(!app.help.validate.password(a.find("#txtPassword").val(),a.find("#txtPasswordRpt").val())){app.notify.alert(app.lang.string("bad_password","notifications"),app.lang.string("register","headlines"),app.lang.string("register","headlines"))}else{if((json=app.rc.getJson("register",{username:a.find("#txtEmail").val(),password:a.find("#txtPassword").val(),email:a.find("#txtEmail").val(),keyRing:a.find("#txtPassword").val()}))!=false){if(json.username&&json.verificationKey){app.store.localStorage.set("data-html5-themis-loggedin",true);app.store.localStorage.set("data-html5-themis-userid",json.userId);app.store.localStorage.set("data-html5-themis-activated",json.activated);app.store.localStorage.set("data-html5-themis-username",a.find("#txtEmail").val());$.mobile.pageContainer.pagecontainer("change","verify_email.html")}else{app.notify.alert(app.lang.string("bad_register","notifications"),app.lang.string("register","headlines"),app.lang.string("bad_register","headlines"))}}else{app.notify.alert(app.lang.string("bad_register","notifications"),app.lang.string("register","headlines"),app.lang.string("bad_register","headlines"))}}}});c=true}catch(b){app.debug.log(JSON.stringify(b,null,4));c=false}return c},events:{pagebeforechange:function(a){},pagebeforecreate:function(a){},pagebeforehide:function(a){},pagebeforeload:function(a){},pagebeforeshow:function(a){},pagechange:function(a){},pagechangefailed:function(a){},pagecreate:function(a){},pagehide:function(a){},pageinit:function(a){},pageload:function(a){},pageloadfailed:function(a){},pageremove:function(a){},pageshow:function(a){}}};
