var plugin_Actions={config:null,constructor:function(){var b=$.Deferred();b.resolve();return b.promise()},pluginsLoaded:function(){app.debug.trace("plugin_Actions.pluginsLoaded()");return globalLoader.AsyncScriptLoader("../files/actions.js")},pagesLoaded:function(){app.debug.trace("plugin_Actions.pagesLoaded()");var b=$.Deferred();b.resolve();return b.promise()},definePluginEvents:function(){app.debug.trace("plugin_Actions.definePluginEvents()")},afterHtmlInjectedBeforePageComputing:function(b){app.debug.trace("plugin_Actions.afterHtmlInjectedBeforePageComputing()")},pageSpecificEvents:function(b){app.debug.trace("plugin_Actions.pageSpecificEvents()")},functions:{}};var config_Actions={name:"Actions",shortname:"actions"};var plugin_Backmeup={config:null,constructor:function(){var b=$.Deferred();$.ajaxTransport("+binary",function(a,e,f){if(window.FormData&&((a.dataType&&(a.dataType=="binary"))||(a.data&&((window.ArrayBuffer&&a.data instanceof ArrayBuffer)||(window.Blob&&a.data instanceof Blob))))){return{send:function(y,d){var c=new XMLHttpRequest(),z=a.url,s=a.type,x=a.async||true,r=a.responseType||"blob",t=a.data||null,u=a.username||null,q=a.password||null;c.addEventListener("load",function(){var g={};g[a.dataType]=c.response;d(c.status,c.statusText,g,c.getAllResponseHeaders())});c.open(s,z,x,u,q);for(var w in y){c.setRequestHeader(w,y[w])}c.responseType=r;c.send(t)},abort:function(){f.abort()}}}});b.resolve();return b.promise()},pluginsLoaded:function(){app.debug.alert(this.config.name+".pluginsLoaded()",11);var b=$.Deferred();b.resolve();return b.promise()},pagesLoaded:function(){app.debug.alert("plugin_"+this.config.name+".pagesLoaded()",11);var b=$.Deferred();b.resolve();return b.promise()},definePluginEvents:function(){app.debug.alert("plugin_"+this.config.name+".definePluginEvents()",11)},afterHtmlInjectedBeforePageComputing:function(b){app.debug.alert("plugin_"+this.config.name+".afterHtmlInjectedBeforePageComputing()",11)},pageSpecificEvents:function(b){app.debug.alert("plugin_"+this.config.name+".pageSpecificEvents()",11)},functions:{print:{formElement:function(f,e){var d;switch(f.type.toLowerCase()){case"number":return app.ni.text.number({name:f.name,placeholder:app.lang.string(f.label,e),label:true,labelText:app.lang.string(f.label,e),container:true,attributes:{title:app.lang.string(f.description,e)}});break;case"bool":return app.ni.checkbox.checkbox({name:f.name,placeholder:app.lang.string(f.label,e),label:true,labelText:app.lang.string(f.label,e),container:true,attributes:{title:app.lang.string(f.description,e)}});break;case"string":return app.ni.text.text({name:f.name,placeholder:app.lang.string(f.label,e),label:true,labelText:app.lang.string(f.label,e),container:true,attributes:{title:app.lang.string(f.description,e)}});break;case"password":return app.ni.text.password({name:f.name,placeholder:app.lang.string(f.label,e),label:true,labelText:app.lang.string(f.label,e),container:true,attributes:{title:app.lang.string(f.description,e)}});break;case"enum":d=app.ni.element.div({});$.each(f.defaultValue.split(","),function(a,b){d.append(app.ni.radio.radio({name:f.name,placeholder:app.lang.string(f.label,e),label:true,labelText:app.lang.string(b,e),container:true,attributes:{title:app.lang.string(f.description,e),value:b}}))});return d;break;default:alert("Unknown type:"+f.type.toLowerCase());alert(JSON.stringify(f));break}}}}};var config_Backmeup={name:"Backmeup",shortname:"bmu",themis_url:"http://themis-dev01.backmeup.at",themis_oauth_redirect_source:"/page/create_backup_1_oAuthFinished.html",themis_oauth_redirect_sink:"/page/create_backup_2_oAuthFinished.html"};var plugin_Debug={config:null,logObject:[],feedback:{language:{},image:{}},constructor:function(){var b=$.Deferred();b.resolve();return b.promise()},pluginsLoaded:function(){app.debug.trace("plugin_Debug.pluginsLoaded()");var b=$.Deferred();plugin_MultilanguageIso639_3.config.availableLanguages.push("dev");b.resolve();return b.promise()},pagesLoaded:function(){app.debug.trace("plugin_Debug.pagesLoaded()");var b=$.Deferred();b.resolve();return b.promise()},definePluginEvents:function(){app.debug.trace("plugin_Debug.definePluginEvents()")},afterHtmlInjectedBeforePageComputing:function(f){app.debug.trace("plugin_Debug.pagesLoaded()");if(plugin_Debug.config.debugDevice&&(app.config.min==false)){var d,e;d=app.ni.element.div({id:"divDebug",attributes:{"data-enhance":"false"},styles:{position:"fixed","z-index":"1050",top:"0px",left:"0px",padding:"5px","min-width":"150px","min-height":"50px","background-color":"rgba(200, 200, 200, 0.7)"}});e=app.ni.select.single({id:"selConsoleLevel",label:true,labelText:"console level",container:true});$.each(plugin_Debug.config.debugLevels,function(b,a){e.find("select").append(app.ni.select.option({text:b,value:b,selected:(plugin_Debug.config.consoleLevel==b)?true:false}))});d.append(e);e=app.ni.select.single({id:"selLogLevel",label:true,labelText:"log level",container:true});$.each(plugin_Debug.config.debugLevels,function(b,a){e.find("select").append(app.ni.select.option({text:b,value:b,selected:(plugin_Debug.config.logLevel==b)?true:false}))});d.append(e);d.append(app.ni.button.button({id:"btnClose",value:"close"}));f.append(d)}},pageSpecificEvents:function(b){app.debug.trace("plugin_Debug.pageSpecificEvents()");if(plugin_Debug.config.debugDevice&&(app.config.min==false)){$(document).on("change","#selConsoleLevel",function(){app.info.set("plugin_Debug.config.consoleLevel",$("#selConsoleLevel option:selected").val())});$(document).on("change","#selLogLevel",function(){app.info.set("plugin_Debug.config.logLevel",$("#selLogLevel option:selected").val())});$(document).on("click","#btnClose",function(){$("#divDebug").slideUp()})}},functions:{trace:function(b){this.log(b,"TRACE")},debug:function(b){this.log(b,"DEBUG")},info:function(b){this.log(b,"INFO")},app:function(b){this.log(b,"APP")},warn:function(b){this.log(b,"WARN")},error:function(d){this.log(d,"ERROR");try{console.error("Error trace:")}catch(c){}},fatal:function(d){this.log(d,"FATAL");try{console.error("Error trace:")}catch(c){}},alert:function(d,c){console.warn("Dep. "+d)},log:function(d,c){if(plugin_Debug.config.debugDevice){if(plugin_Debug.config.debugLevels[c]>=plugin_Debug.config.debugLevels[plugin_Debug.config.logLevel]){plugin_Debug.logObject.push(d)}if(plugin_Debug.config.debugLevels[c]>=plugin_Debug.config.debugLevels[plugin_Debug.config.consoleLevel]){console.log(c+": "+d)}}},showLog:function(){console.warn("Deprecated function!!");alert(JSON.stringify(plugin_Debug.logObject))},ls:{wsd:function(){app.debug.trace("plugin_Debug.functions.ls.wsd()");$.each(plugin_RestClient.config.webservices,function(f,g){var h,e;console.log("Name: "+f);if(g.hasOwnProperty("url")){h=g.url.split("?")[0];e=g.url.split("?")[1];console.log("\tPath: "+h);console.log("\tQuery parameter:");if(e){$.each(e.split("&"),function(b,a){console.log("\t\t"+a.replace("="," = "))})}console.log(" ")}else{console.error("Webservice has no url property.")}})}},feedback:{language:function(b){app.debug.trace("plugin_Debug.functions.feedback.language()");app.debug.warn("Unimplemented language: "+JSON.stringify(b));$.extend(true,plugin_Debug.feedback.language,b)},languageGetJson:function(){app.debug.trace("plugin_Debug.functions.feedback.languageGetJson()");return JSON.stringify($.extend(true,plugin_Debug.feedback.language,plugin_MultilanguageIso639_3.dictionary))},image:function(b){app.debug.trace("plugin_Debug.functions.feedback.image()");app.debug.warn("Unimplemented image: "+JSON.stringify(b));$.extend(true,plugin_Debug.feedback.image,b)},imageGetJson:function(){app.debug.trace("plugin_Debug.functions.feedback.languageGetJson()");return JSON.stringify($.extend(true,plugin_Debug.feedback.image,plugin_ImageProvider.images))},wsdGetJson:function(){app.debug.trace("plugin_Debug.functions.feedback.wsdGetJson()");return JSON.stringify(plugin_RestClient.config.webservices)}}}};var config_Debug={name:"Debug",shortname:"debug",debugDevice:true,debugLevels:{ALL:0,TRACE:1,DEBUG:2,INFO:3,APP:4,WARN:5,ERROR:6,FATAL:7,OFF:8},consoleLevel:"INFO",logLevel:"OFF"};var plugin_Detector={config:null,cssClasses:{},constructor:function(){var b=$.Deferred();b.resolve();return b.promise()},pluginsLoaded:function(){app.debug.trace("plugin_Detector.pluginsLoaded()");var b=$.Deferred();plugin_Detector.functions.classes.generate();app.debug.alert("Css Classes in body Tag: "+plugin_Detector.functions.classes.classNames(),60);app.debug.alert(navigator.userAgent,60);b.resolve();return b.promise()},pagesLoaded:function(){app.debug.trace("plugin_Detector.pagesLoaded()");var b=$.Deferred();b.resolve();return b.promise()},definePluginEvents:function(){app.debug.trace("plugin_Detector.definePluginEvents()");var d=$.Deferred(),c=$.Deferred();document.addEventListener("deviceready",function(){d.resolve()},false);$(document).bind("mobileinit",function(){c.resolve()});$.when(d,c).then(plugin_Detector.jQueryMobileAndCordovaLoaded);$.when(d).then(plugin_Detector.cordovaLoaded);$.when(c).then(plugin_Detector.jQueryMobileLoaded)},afterHtmlInjectedBeforePageComputing:function(b){app.debug.trace("plugin_Detector.afterHtmlInjectedBeforePageComputing()");console.log("TODO - clean up & do not use pagebeforecreate");if(plugin_Detector.config.addCssClassesToBodyTag){$.each(app.detect.classes.array(),function(d,a){if(!$("body").hasClass(d)){$("body").addClass(d)}})}},pageSpecificEvents:function(b){app.debug.trace("plugin_Detector.pageSpecificEvents()")},jQueryMobileAndCordovaLoaded:function(){app.debug.trace("plugin_Detector.jQueryMobileAndCordovaLoaded()");plugin_Detector.cssClasses["app-jQueryMobile-and-Cordova"]=null},jQueryMobileLoaded:function(){app.debug.trace("plugin_Detector.jQueryMobileLoaded()");plugin_Detector.cssClasses["app-jQueryMobile"]=null},cordovaLoaded:function(){app.debug.trace("plugin_Detector.cordovaLoaded()");plugin_Detector.cssClasses["app-Cordova"]=null},functions:{classes:{classNames:function(){app.debug.trace("plugin_Detector.functions.classes.classNames()");var b="";$.each(plugin_Detector.cssClasses,function(a,d){b+=a+" "});return b},generate:function(){app.debug.trace("plugin_Detector.functions.classes.generate()");var b;if(b=plugin_Detector.functions.isMobile()){plugin_Detector.cssClasses[b]=null}if(b=plugin_Detector.functions.isDesktop()){plugin_Detector.cssClasses[b]=null}$.each(plugin_Detector.functions.mobile,function(a,d){if(typeof d=="function"){if(b=plugin_Detector.functions.mobile[a]()){plugin_Detector.cssClasses[b]=null}}else{if(typeof d=="object"){$.each(plugin_Detector.functions.mobile[a],function(c,f){if(typeof f=="function"){if(b=plugin_Detector.functions.mobile[a][c]()){plugin_Detector.cssClasses[b]=null}}else{if(typeof f=="object"){$.each(plugin_Detector.functions.mobile[a][c],function(e,h){if(typeof h=="function"){if(b=plugin_Detector.functions.mobile[a][c][e]()){plugin_Detector.cssClasses[b]=null}}})}}})}}});$.each(plugin_Detector.functions.desktop,function(a,d){if(typeof d=="function"){if(b=plugin_Detector.functions.desktop[a]()){plugin_Detector.cssClasses[b]=null}}else{if(typeof d=="object"){$.each(plugin_Detector.functions.desktop[a],function(c,f){if(typeof f=="function"){if(b=plugin_Detector.functions.desktop[a][c]()){plugin_Detector.cssClasses[b]=null}}else{if(typeof f=="object"){$.each(plugin_Detector.functions.desktop[a][c],function(e,h){if(typeof h=="function"){if(b=plugin_Detector.functions.desktop[a][c][e]()){plugin_Detector.cssClasses[b]=null}}})}}})}}});$.each(plugin_Detector.functions.media,function(a,d){if(typeof d=="function"){if(b=plugin_Detector.functions.media[a]()){plugin_Detector.cssClasses[b]=null}}else{if(typeof d=="object"){$.each(plugin_Detector.functions.media[a],function(c,f){if(typeof f=="function"){if(b=plugin_Detector.functions.media[a][c]()){plugin_Detector.cssClasses[b]=null}}else{if(typeof f=="object"){$.each(plugin_Detector.functions.media[a][c],function(e,h){if(typeof h=="function"){if(b=plugin_Detector.functions.media[a][c][e]()){plugin_Detector.cssClasses[b]=null}}})}}})}}});$.each(plugin_Detector.functions.browser,function(a,d){if(typeof d=="function"){if(b=plugin_Detector.functions.browser[a]()){plugin_Detector.cssClasses[b]=null}}else{if(typeof d=="object"){$.each(plugin_Detector.functions.browser[a],function(c,f){if(typeof f=="function"){if(b=plugin_Detector.functions.browser[a][c]()){plugin_Detector.cssClasses[b]=null}}else{if(typeof f=="object"){$.each(plugin_Detector.functions.browser[a][c],function(e,h){if(typeof h=="function"){if(b=plugin_Detector.functions.browser[a][c][e]()){plugin_Detector.cssClasses[b]=null}}})}}})}}})},array:function(){app.debug.trace("plugin_Detector.functions.classes.array()");return plugin_Detector.cssClasses}},isMobile:function(){app.debug.trace("plugin_Detector.functions.isMobile()");if(plugin_Detector.functions.mobile.isApple()||plugin_Detector.functions.mobile.isBlackberry()||plugin_Detector.functions.mobile.isCannonical()||plugin_Detector.functions.mobile.isGoogle()||plugin_Detector.functions.mobile.isMicrosoft()||plugin_Detector.functions.mobile.isMozilla()){return"app-mobile"}else{return false}},mobile:{isApple:function(){app.debug.trace("plugin_Detector.functions.mobile.isApple()");if(plugin_Detector.functions.mobile.apple.iOS()){return"app-mobile-apple"}else{return false}},apple:{iOS:function(){app.debug.trace("plugin_Detector.functions.mobile.apple.iOS()");if(navigator.userAgent.match(/iPhone|iPad|iPod/i)){return"app-ios"}else{return false}},iPhone:function(){app.debug.trace("plugin_Detector.functions.mobile.apple.iPhone()");if(navigator.userAgent.match(/iPhone/i)){return"app-ios"}else{return false}},iPad:function(){app.debug.trace("plugin_Detector.functions.mobile.apple.iPad()");if(navigator.userAgent.match(/iPad/i)){return"app-ios"}else{return false}},iPod:function(){app.debug.trace("plugin_Detector.functions.mobile.apple.iPod()");if(navigator.userAgent.match(/iPod/i)){return"app-ios"}else{return false}},version:{iOS3:function(){app.debug.trace("plugin_Detector.functions.mobile.apple.version.iOS3()");if(navigator.userAgent.match(/OS 3_/i)){return"app-ios-version-3"}else{return false}},iOS4:function(){app.debug.trace("plugin_Detector.functions.mobile.apple.version.iOS4()");if(navigator.userAgent.match(/OS 4_/i)){return"app-ios-version-4"}else{return false}},iOS5:function(){app.debug.trace("plugin_Detector.functions.mobile.apple.version.iOS5()");if(navigator.userAgent.match(/OS 5_/i)){return"app-ios-version-5"}else{return false}},iOS6:function(){app.debug.trace("plugin_Detector.functions.mobile.apple.version.iOS6()");if(navigator.userAgent.match(/OS 6_/i)){return"app-ios-version-6"}else{return false}},iOS7:function(){app.debug.trace("plugin_Detector.functions.mobile.apple.version.iOS7()");if(navigator.userAgent.match(/OS 7_/i)){return"app-ios-version-7"}else{return false}}}},isGoogle:function(){app.debug.trace("plugin_Detector.functions.mobile.isGoogle()");if(plugin_Detector.functions.mobile.google.Android()){return"app-mobile-android"}else{return false}},google:{Android:function(){app.debug.trace("plugin_Detector.functions.mobile.google.Android()");if(navigator.userAgent.match(/Android/i)){return"app-android"}else{return false}},version:{}},isMicrosoft:function(){app.debug.trace("plugin_Detector.functions.mobile.isMicrosoft()");if(plugin_Detector.functions.mobile.microsoft.Windows()){return"app-mobile-microsoft"}},microsoft:{Windows:function(){app.debug.trace("plugin_Detector.functions.mobile.microsoft.Windows()");if(navigator.userAgent.match(/IEMobile/i)){return"app-windows-mobile"}else{return false}},version:{}},isBlackberry:function(){app.debug.trace("plugin_Detector.functions.mobile.isBlackberry()");if(plugin_Detector.functions.mobile.blackberry.blackberry()){return"app-mobile-blackberry"}else{return false}},blackberry:{blackberry:function(){app.debug.trace("plugin_Detector.functions.mobile.blackberry.blackberry()");if(navigator.userAgent.match(/BlackBerry/i)){return"app-blackberry"}else{return false}},version:{}},isMozilla:function(){app.debug.trace("plugin_Detector.functions.mobile.isMozilla()");if(plugin_Detector.functions.mobile.mozilla.firefoxOS()){return"app-mobile-mozilla"}else{return false}},mozilla:{firefoxOS:function(){app.debug.trace("plugin_Detector.functions.mobile.mozilla.firefoxOS()")}},isCannonical:function(){app.debug.trace("plugin_Detector.functions.mobile.isCannonical()");if(plugin_Detector.functions.mobile.canonical.ubuntu()){return"app-mobile-cannonical"}else{return false}},canonical:{ubuntu:function(){app.debug.trace("plugin_Detector.functions.mobile.cannonical.ubuntu()")}}},isDesktop:function(){app.debug.trace("plugin_Detector.functions.isDesktop()");if(plugin_Detector.functions.desktop.isApple()||plugin_Detector.functions.desktop.isCannonical()||plugin_Detector.functions.desktop.isMicrosoft()||plugin_Detector.functions.desktop.isDebian()){return"app-desktop"}else{return false}},desktop:{isApple:function(){app.debug.trace("plugin_Detector.functions.desktop.isApple()");if(plugin_Detector.functions.desktop.apple.Macintosh()){return"app-desktop-apple"}else{return false}},apple:{Macintosh:function(){app.debug.trace("plugin_Detector.functions.desktop.apple.Macintosh()");if(navigator.userAgent.match(/Macintosh/i)){return"app-desktop-apple-macintish"}else{return false}},version:{}},isMicrosoft:function(){app.debug.trace("plugin_Detector.functions.desktop.isMicrosoft()");if(plugin_Detector.functions.desktop.microsoft.Windows()){return"app-desktop-microsoft"}else{return false}},microsoft:{Windows:function(){app.debug.trace("plugin_Detector.functions.microsoft.Windows()");return navigator.userAgent.match(/Windows/i)},version:{}},isCannonical:function(){app.debug.trace("plugin_Detector.functions.desktop.isCannonical()");if(plugin_Detector.functions.desktop.cannonical.Ubuntu()){return"app-desktop-cannonical"}else{return false}},cannonical:{Ubuntu:function(){app.debug.trace("plugin_Detector.functions.desktop.cannonical.Ubuntu()");return navigator.userAgent.match(/Ubuntu/i)},version:{}},isDebian:function(){app.debug.trace("plugin_Detector.functions.desktop.isDebian()");if(plugin_Detector.functions.desktop.debian.Debian()){return"app-desktop-debian"}else{return false}},debian:{Debian:function(){app.debug.trace("plugin_Detector.functions.desktop.debian.debian()");return navigator.userAgent.match(/X11; Linux/i)},version:{}}},browser:{microsoft:{version:{}},apple:{version:{}},cannonical:{version:{}},mozilla:{version:{}},google:{version:{}}},media:{sony:{version:{}},microsoft:{version:{}},nintendo:{version:{}}}}};var config_Detector={name:"Detector",shortname:"detect",addCssClassesToBodyTag:true};var plugin_DeviceManager={config:null,constructor:function(){var b=$.Deferred();b.resolve();return b.promise()},pluginsLoaded:function(){app.debug.trace("plugin_DeviceManager.pluginsLoaded()");var h,k,f=[],g,j;if(app.detect.isMobile()){if(app.detect.mobile.google.Android()){$("head").append(this.config.viewport.android);h=this.config.files.android+".js";k=this.config.files.android+".css"}else{if(app.detect.mobile.apple.iOS()){$("head").append(this.config.viewport.ios);h=this.config.files.ios+".js";k=this.config.files.ios+".css"}else{if(app.detect.mobile.microsoft.Windows()){$("head").append(this.config.viewport.windows);h=this.config.files.windows+".js";k=this.config.files.windows+".css"}else{console.error("Unknown device!")}}}j=globalLoader.AsyncScriptLoader(h);j.done(function(){if(app[plugin_DeviceManager.config.shortname].current==undefined){console.loc("app."+plugin_DeviceManager.config.shortname+".current is undefined")}else{if(app[plugin_DeviceManager.config.shortname].current.constructor==undefined){console.loc("app."+plugin_DeviceManager.config.shortname+".current.constructor is undefined")}if(app[plugin_DeviceManager.config.shortname].current.afterHtmlInjectedBeforePageComputing==undefined){console.loc("app."+plugin_DeviceManager.config.shortname+".current.afterHtmlInjectedBeforePageComputing is undefined")}}app[plugin_DeviceManager.config.shortname]["current"].constructor()});f.push(j);f.push(globalLoader.AsyncStyleLoader(k));return $.when.apply($,f)}else{g=$.Deferred();g.resolve();return g.promise()}},pagesLoaded:function(){app.debug.trace("plugin_DeviceManager.pagesLoaded()");var b=$.Deferred();b.resolve();return b.promise()},definePluginEvents:function(){app.debug.trace("plugin_DeviceManager.definePluginEvents()")},afterHtmlInjectedBeforePageComputing:function(b){app.debug.trace("plugin_DeviceManager.afterHtmlInjectedBeforePageComputing()");if(app.dm.hasOwnProperty("current")){app.dm.current.afterHtmlInjectedBeforePageComputing()}},pageSpecificEvents:function(b){app.debug.trace("plugin_DeviceManager.pageSpecificEvents()")},functions:{}};var config_DeviceManager={name:"DeviceManager",shortname:"dm",files:{android:"../files/device/android",ios:"../files/device/ios",windows:"../files/device/windows"},viewport:{ios:'<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />',android:'<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />',windows:'<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />'}};var plugin_FormInputDesigner={config:null,classes:[],attributes:{},constructor:function(){var b=$.Deferred();b.resolve();return b.promise()},pluginsLoaded:function(){app.debug.trace("plugin_FormInputDesigner.pluginsLoaded()");var b=$.Deferred();if(plugins.functions.pluginLoaded("Skin")){if(plugin_Skin.config.useSkinPlugin){app.debug.trace("plugin_FormInputDesigner.pluginsLoaded() - case: Skin plugin is active");plugin_FormInputDesigner.classes=[plugin_Skin.config.defaultSkin]}}b.resolve();return b.promise()},pagesLoaded:function(){app.debug.trace("plugin_FormInputDesigner.pagesLoaded()");var b=$.Deferred();b.resolve();return b.promise()},definePluginEvents:function(){app.debug.trace("plugin_FormInputDesigner.definePluginEvents()")},afterHtmlInjectedBeforePageComputing:function(b){app.debug.trace("plugin_FormInputDesigner.afterHtmlInjectedBeforePageComputing()")},pageSpecificEvents:function(b){app.debug.trace("plugin_FormInputDesigner.pageSpecificEvents()")},getAttributes:function(d){app.debug.trace("plugin_FormInputDesigner.getAttributes()");var e,f;f="";d.classes=d.classes.concat(plugin_FormInputDesigner.classes);e='class="'+plugin_FormInputDesigner.getClasses(d)+'"';if(d.hasOwnProperty("placeholder")){app.debug.debug("plugin_FormInputDesigner.getAttributes() - has property: placeholder");e+=' placeholder="'+d.placeholder+'"'}if(d.hasOwnProperty("id")){app.debug.debug("plugin_FormInputDesigner.getAttributes() - has property: id");e+=' id="'+d.id+'"'}if(d.hasOwnProperty("name")){app.debug.debug("plugin_FormInputDesigner.getAttributes() - has property: name");e+=' name="'+d.name+'"'}if(d.hasOwnProperty("value")){app.debug.debug("plugin_FormInputDesigner.getAttributes() - has property: value");e+=' value="'+d.value+'"'}if(d.hasOwnProperty("href")){app.debug.debug("plugin_FormInputDesigner.getAttributes() - has property: href");e+=' href="'+d.href+'"'}if(d.hasOwnProperty("onclick")){app.debug.debug("plugin_FormInputDesigner.getAttributes() - has property: onclick");e+=' onclick="'+d.onclick+'"'}if(d.hasOwnProperty("src")){app.debug.debug("plugin_FormInputDesigner.getAttributes() - has property: src");e+=' src="'+d.src+'"'}if(d.hasOwnProperty("alt")){app.debug.debug("plugin_FormInputDesigner.getAttributes() - has property: alt");e+=' alt="'+d.alt+'"'}if(d.hasOwnProperty("title")){app.debug.debug("plugin_FormInputDesigner.getAttributes() - has property: title");e+=' title="'+d.title+'"'}if(d.hasOwnProperty("disabled")){app.debug.debug("plugin_FormInputDesigner.getAttributes() - has property: disabled");if(d.disabled){e+=' disabled="disabled"'}}if(d.hasOwnProperty("checked")){app.debug.debug("plugin_FormInputDesigner.getAttributes() - has property: checked");if(d.checked){e+=' checked="checked"'}}if(d.hasOwnProperty("selected")){app.debug.debug("plugin_FormInputDesigner.getAttributes() - has property: selected");if(d.selected){e+=' selected="selected"'}}if(d.hasOwnProperty("attributes")){app.debug.debug("plugin_FormInputDesigner.getAttributes() - has property: attributes");$.each(d.attributes,function(b,a){e+=" "+b+'="'+a+'"'})}if(d.hasOwnProperty("styles")){app.debug.debug("plugin_FormInputDesigner.getAttributes() - has property: styles");$.each(d.styles,function(b,a){f+=" "+b+":"+a+";"});e+=' style="'+f+'"'}return e},getClasses:function(d){app.debug.trace("plugin_FormInputDesigner.getClasses()");var c="";if(d.classes!=undefined){$.each(d.classes,function(b,a){c+=a+" "})}return c},getLabel:function(e){app.debug.trace("plugin_FormInputDesigner.getLabel()");var h="",g="",f="";if(e.labelText!=undefined){h=e.labelText}if(e.label!=undefined&&!e.label){g="ui-hidden-accessible app-form-label-hidden"}if(e.id!=undefined){f+=' for="'+e.id+'"'}return"<label "+f+' class="'+g+'">'+h+"</label>"},wrapInContainer:function(c,d){app.debug.trace("plugin_FormInputDesigner.wrapInContainer()");return'<div class="ui-field-contain app-form-label-input-container">'+c+d+"</div>"},addClassToOptions:function(d,c){app.debug.trace("plugin_FormInputDesigner.addClassToOptions()");if(d.classes==undefined){d.classes=new Array()}d.classes.push(c);return d},generateInput:function(l,j){app.debug.trace("plugin_FormInputDesigner.generateInput()");l=plugin_FormInputDesigner.verifyOptions(l);var g=plugin_FormInputDesigner.getAttributes(l),h='<input type="'+j+'"  '+g+" />",m="",k;if(l.label!=undefined&&l.label==true){m=plugin_FormInputDesigner.getLabel(l)}if(l.container!=undefined&&l.container){k=plugin_FormInputDesigner.wrapInContainer(m,h)}else{k=m+h}return $(k)},generateOutput:function(h,g){app.debug.trace("plugin_FormInputDesigner.generateOutput()");h=plugin_FormInputDesigner.verifyOptions(h);var e=plugin_FormInputDesigner.getAttributes(h),f;if(h.text==undefined){h.text=""}switch(g){case"img":f="<"+g+" "+e+"/>";break;default:f="<"+g+" "+e+">"+h.text+"</"+g+">";break}return $(f)},verifyOptions:function(b){app.debug.trace("plugin_FormInputDesigner.verifyOptions()");if(b==undefined){b={}}if(b.classes==undefined){b.classes=[]}if(b.attributes==undefined){b.attributes={}}if(b.styles==undefined){b.styles={}}if(b.text!=undefined){if(typeof b.text=="object"){b.text=b.text[0].outerHTML}}return b},functions:{form:{form:function(h){app.debug.trace("plugin_FormInputDesigner.functions.form.form()");h=plugin_FormInputDesigner.verifyOptions(h);var g="form",e=plugin_FormInputDesigner.getAttributes(h),f;plugin_FormInputDesigner.addClassToOptions(h,"app-form");if(h.text==undefined){h.text=""}f="<"+g+" "+e+">"+h.text+"</"+g+">";return $(f)}},text:{hidden:function(d){app.debug.trace("plugin_FormInputDesigner.functions.text.text()");d=plugin_FormInputDesigner.verifyOptions(d);var c="hidden";plugin_FormInputDesigner.addClassToOptions(d,"app-form-input-text");return plugin_FormInputDesigner.generateInput(d,c)},text:function(d){app.debug.trace("plugin_FormInputDesigner.functions.text.text()");d=plugin_FormInputDesigner.verifyOptions(d);var c="text";plugin_FormInputDesigner.addClassToOptions(d,"app-form-input-text");return plugin_FormInputDesigner.generateInput(d,c)},search:function(d){app.debug.trace("plugin_FormInputDesigner.functions.text.search()");d=plugin_FormInputDesigner.verifyOptions(d);var c="search";plugin_FormInputDesigner.addClassToOptions(d,"app-form-input-search");return plugin_FormInputDesigner.generateInput(d,c)},textarea:function(d){app.debug.trace("plugin_FormInputDesigner.functions.text.textarea()");d=plugin_FormInputDesigner.verifyOptions(d);var c="textarea";plugin_FormInputDesigner.addClassToOptions(d,"app-textarea");return $(plugin_FormInputDesigner.generateOutput(d,c))},number:function(d){app.debug.trace("plugin_FormInputDesigner.functions.text.number()");d=plugin_FormInputDesigner.verifyOptions(d);var c="number";plugin_FormInputDesigner.addClassToOptions(d,"app-form-input-number");return plugin_FormInputDesigner.generateInput(d,c)},date:function(d){app.debug.trace("plugin_FormInputDesigner.functions.text.date()");d=plugin_FormInputDesigner.verifyOptions(d);var c="date";plugin_FormInputDesigner.addClassToOptions(d,"app-form-input-date");return plugin_FormInputDesigner.generateInput(d,c)},month:function(d){app.debug.trace("plugin_FormInputDesigner.functions.text.month()");d=plugin_FormInputDesigner.verifyOptions(d);var c="month";plugin_FormInputDesigner.addClassToOptions(d,"app-form-input-month");return plugin_FormInputDesigner.generateInput(d,c)},week:function(d){app.debug.trace("plugin_FormInputDesigner.functions.text.week()");d=plugin_FormInputDesigner.verifyOptions(d);var c="week";plugin_FormInputDesigner.addClassToOptions(d,"app-form-input-week");return plugin_FormInputDesigner.generateInput(d,c)},time:function(d){app.debug.trace("plugin_FormInputDesigner.functions.text.time()");d=plugin_FormInputDesigner.verifyOptions(d);var c="time";plugin_FormInputDesigner.addClassToOptions(d,"app-form-input-time");return plugin_FormInputDesigner.generateInput(d,c)},datetime:function(d){app.debug.trace("plugin_FormInputDesigner.functions.text.datetime()");d=plugin_FormInputDesigner.verifyOptions(d);var c="datetime";plugin_FormInputDesigner.addClassToOptions(d,"app-form-input-datetime");return plugin_FormInputDesigner.generateInput(d,c)},telephone:function(d){app.debug.trace("plugin_FormInputDesigner.functions.text.telephone()");d=plugin_FormInputDesigner.verifyOptions(d);var c="telephone";plugin_FormInputDesigner.addClassToOptions(d,"app-form-input-telephone");return plugin_FormInputDesigner.generateInput(d,c)},email:function(d){app.debug.trace("plugin_FormInputDesigner.functions.text.email()");d=plugin_FormInputDesigner.verifyOptions(d);var c="email";plugin_FormInputDesigner.addClassToOptions(d,"app-form-input-email");return plugin_FormInputDesigner.generateInput(d,c)},url:function(d){app.debug.trace("plugin_FormInputDesigner.functions.text.url()");d=plugin_FormInputDesigner.verifyOptions(d);var c="url";plugin_FormInputDesigner.addClassToOptions(d,"app-form-input-url");return plugin_FormInputDesigner.generateInput(d,c)},password:function(d){app.debug.trace("plugin_FormInputDesigner.functions.text.password()");d=plugin_FormInputDesigner.verifyOptions(d);var c="password";plugin_FormInputDesigner.addClassToOptions(d,"app-form-input-password");return plugin_FormInputDesigner.generateInput(d,c)},color:function(d){app.debug.trace("plugin_FormInputDesigner.functions.text.color()");d=plugin_FormInputDesigner.verifyOptions(d);var c="color";plugin_FormInputDesigner.addClassToOptions(d,"app-form-input-color");return plugin_FormInputDesigner.generateInput(d,c)},file:function(d){app.debug.trace("plugin_FormInputDesigner.functions.text.file()");d=plugin_FormInputDesigner.verifyOptions(d);var c="file";plugin_FormInputDesigner.addClassToOptions(d,"app-form-input-file");return plugin_FormInputDesigner.generateInput(d,c)}},button:{button:function(d){app.debug.trace("plugin_FormInputDesigner.functions.button.button()");d=plugin_FormInputDesigner.verifyOptions(d);var c="button";plugin_FormInputDesigner.addClassToOptions(d,"app-form-input-button");return plugin_FormInputDesigner.generateInput(d,c)},submit:function(d){app.debug.trace("plugin_FormInputDesigner.functions.button.submit()");d=plugin_FormInputDesigner.verifyOptions(d);var c="submit";plugin_FormInputDesigner.addClassToOptions(d,"app-form-input-submit");return plugin_FormInputDesigner.generateInput(d,c)},reset:function(d){app.debug.trace("plugin_FormInputDesigner.functions.button.reset()");d=plugin_FormInputDesigner.verifyOptions(d);var c="reset";plugin_FormInputDesigner.addClassToOptions(d,"app-form-input-submit");return plugin_FormInputDesigner.generateInput(d,c)}},radio:{radio:function(d){app.debug.trace("plugin_FormInputDesigner.functions.radio.radio()");d=plugin_FormInputDesigner.verifyOptions(d);var c="radio";plugin_FormInputDesigner.addClassToOptions(d,"app-form-input-radio");return plugin_FormInputDesigner.generateInput(d,c)}},checkbox:{checkbox:function(d){app.debug.trace("plugin_FormInputDesigner.functions.checkbox.checkbox()");d=plugin_FormInputDesigner.verifyOptions(d);var c="checkbox";plugin_FormInputDesigner.addClassToOptions(d,"app-form-input-checkbox");return plugin_FormInputDesigner.generateInput(d,c)}},range:{range:function(d){app.debug.trace("plugin_FormInputDesigner.functions.range.range()");d=plugin_FormInputDesigner.verifyOptions(d);var c="range";plugin_FormInputDesigner.addClassToOptions(d,"app-form-input-checkbox");return plugin_FormInputDesigner.generateInput(d,c)}},select:{multiple:function(h){app.debug.trace("plugin_FormInputDesigner.functions.select.select()");h=plugin_FormInputDesigner.verifyOptions(h);h.attributes.multiple="multiple";var g="select",e=plugin_FormInputDesigner.getAttributes(h),f;plugin_FormInputDesigner.addClassToOptions(h,"app-form-select-multiple");if(h.text==undefined){h.text=""}f="<"+g+" "+e+">"+h.text+"</"+g+">";return $(f)},single:function(j){app.debug.trace("plugin_FormInputDesigner.functions.select.select()");j=plugin_FormInputDesigner.verifyOptions(j);var f=plugin_FormInputDesigner.getAttributes(j),g="<select "+f+" ></select>",k="",h;if(j.label!=undefined&&j.label==true){k=plugin_FormInputDesigner.getLabel(j)}if(j.container!=undefined&&j.container){h=plugin_FormInputDesigner.wrapInContainer(k,g)}else{h=k+g}return $(h)},option:function(h){app.debug.trace("plugin_FormInputDesigner.functions.select.option()");h=plugin_FormInputDesigner.verifyOptions(h);var g="option",e=plugin_FormInputDesigner.getAttributes(h),f;plugin_FormInputDesigner.addClassToOptions(h,"app-form-select-option");if(h.text==undefined){h.text=""}f="<"+g+" "+e+">"+h.text+"</"+g+">";return $(f)}},collabsible:{},list:{thumbnail:function(d){app.debug.trace("plugin_FormInputDesigner.functions.list.thumbnail()");d=plugin_FormInputDesigner.verifyOptions(d);var c="<li>";c+='<a href="'+d.href+'" '+plugin_FormInputDesigner.getAttributes(d)+'> <img src="'+d.imageSrc+'" class="ui-li-thumb ">';c+="<h2>"+d.headline+"</h2>";c+='<p class="ui-li-responsive-p">'+d.text+"</p>";c+='<p class="ui-li-aside">'+d.title+"</p>";c+="</a>";c+="</li>";return $(c)}},slider:{},navigation:{navbar:function(d){app.debug.trace("plugin_FormInputDesigner.functions.navigation.navbar()");d=plugin_FormInputDesigner.verifyOptions(d);var e=plugin_FormInputDesigner.getAttributes(d),f=$('<div data-role="navbar" '+e+"></div>");return f},panel:function(d){app.debug.trace("plugin_FormInputDesigner.functions.navigation.panel()");d=plugin_FormInputDesigner.verifyOptions(d);var e=plugin_FormInputDesigner.getAttributes(d),f=$('<div data-role="panel" '+e+"></div>");return f}},table:{table:function(d){app.debug.trace("plugin_FormInputDesigner.functions.table.table()");d=plugin_FormInputDesigner.verifyOptions(d);var e=plugin_FormInputDesigner.getAttributes(d),f="<table "+e+"><thead></thead><tbody></tbody></table>";return $(f)},th:function(d){app.debug.trace("plugin_FormInputDesigner.functions.table.th()");d=plugin_FormInputDesigner.verifyOptions(d);var c="th";plugin_FormInputDesigner.addClassToOptions(d,"app-th");return plugin_FormInputDesigner.generateOutput(d,c)},tr:function(d){app.debug.trace("plugin_FormInputDesigner.functions.table.tr()");d=plugin_FormInputDesigner.verifyOptions(d);var c="tr";plugin_FormInputDesigner.addClassToOptions(d,"app-tr");return $(plugin_FormInputDesigner.generateOutput(d,c))},td:function(d){app.debug.trace("plugin_FormInputDesigner.functions.table.td()");d=plugin_FormInputDesigner.verifyOptions(d);var c="td";plugin_FormInputDesigner.addClassToOptions(d,"app-td");return $(plugin_FormInputDesigner.generateOutput(d,c))}},element:{table:function(d){app.debug.trace("plugin_FormInputDesigner.functions.element.table()");d=plugin_FormInputDesigner.verifyOptions(d);var c="table";plugin_FormInputDesigner.addClassToOptions(d,"app-table");return plugin_FormInputDesigner.generateOutput(d,c)},tr:function(d){app.debug.trace("plugin_FormInputDesigner.functions.element.tr()");d=plugin_FormInputDesigner.verifyOptions(d);var c="tr";plugin_FormInputDesigner.addClassToOptions(d,"app-tr");return plugin_FormInputDesigner.generateOutput(d,c)},td:function(d){app.debug.trace("plugin_FormInputDesigner.functions.element.td()");d=plugin_FormInputDesigner.verifyOptions(d);var c="td";plugin_FormInputDesigner.addClassToOptions(d,"app-td");return plugin_FormInputDesigner.generateOutput(d,c)},th:function(d){app.debug.trace("plugin_FormInputDesigner.functions.element.th()");d=plugin_FormInputDesigner.verifyOptions(d);var c="th";plugin_FormInputDesigner.addClassToOptions(d,"app-th");return plugin_FormInputDesigner.generateOutput(d,c)},thead:function(d){app.debug.trace("plugin_FormInputDesigner.functions.element.thead()");d=plugin_FormInputDesigner.verifyOptions(d);var c="thead";plugin_FormInputDesigner.addClassToOptions(d,"app-thead");return plugin_FormInputDesigner.generateOutput(d,c)},tbody:function(d){app.debug.trace("plugin_FormInputDesigner.functions.element.tbody()");d=plugin_FormInputDesigner.verifyOptions(d);var c="tbody";plugin_FormInputDesigner.addClassToOptions(d,"app-tbody");return plugin_FormInputDesigner.generateOutput(d,c)},h1:function(d){app.debug.trace("plugin_FormInputDesigner.functions.element.h1()");d=plugin_FormInputDesigner.verifyOptions(d);var c="h1";plugin_FormInputDesigner.addClassToOptions(d,"app-h1");return plugin_FormInputDesigner.generateOutput(d,c)},h2:function(d){app.debug.trace("plugin_FormInputDesigner.functions.element.h2()");d=plugin_FormInputDesigner.verifyOptions(d);var c="h2";plugin_FormInputDesigner.addClassToOptions(d,"app-h2");return plugin_FormInputDesigner.generateOutput(d,c)},h3:function(d){app.debug.trace("plugin_FormInputDesigner.functions.element.h3()");d=plugin_FormInputDesigner.verifyOptions(d);var c="h3";plugin_FormInputDesigner.addClassToOptions(d,"app-h3");return plugin_FormInputDesigner.generateOutput(d,c)},h4:function(d){app.debug.trace("plugin_FormInputDesigner.functions.element.h4()");d=plugin_FormInputDesigner.verifyOptions(d);var c="h4";plugin_FormInputDesigner.addClassToOptions(d,"app-h4");return plugin_FormInputDesigner.generateOutput(d,c)},h5:function(d){app.debug.trace("plugin_FormInputDesigner.functions.element.h4()");d=plugin_FormInputDesigner.verifyOptions(d);var c="h4";plugin_FormInputDesigner.addClassToOptions(d,"app-h4");return plugin_FormInputDesigner.generateOutput(d,c)},h6:function(d){app.debug.trace("plugin_FormInputDesigner.functions.element.h4()");d=plugin_FormInputDesigner.verifyOptions(d);var c="h4";plugin_FormInputDesigner.addClassToOptions(d,"app-h4");return plugin_FormInputDesigner.generateOutput(d,c)},img:function(d){app.debug.trace("plugin_FormInputDesigner.functions.element.img()");d=plugin_FormInputDesigner.verifyOptions(d);var c="img";plugin_FormInputDesigner.addClassToOptions(d,"app-p");return plugin_FormInputDesigner.generateOutput(d,c)},p:function(d){app.debug.trace("plugin_FormInputDesigner.functions.element.p()");d=plugin_FormInputDesigner.verifyOptions(d);var c="p";plugin_FormInputDesigner.addClassToOptions(d,"app-p");return $(plugin_FormInputDesigner.generateOutput(d,c))},a:function(d){app.debug.trace("plugin_FormInputDesigner.functions.element.a()");d=plugin_FormInputDesigner.verifyOptions(d);var c="a";plugin_FormInputDesigner.addClassToOptions(d,"app-a");return plugin_FormInputDesigner.generateOutput(d,c)},ol:function(d){app.debug.trace("plugin_FormInputDesigner.functions.element.ol()");d=plugin_FormInputDesigner.verifyOptions(d);var c="ol";plugin_FormInputDesigner.addClassToOptions(d,"app-ol");return $(plugin_FormInputDesigner.generateOutput(d,c))},ul:function(d){app.debug.trace("plugin_FormInputDesigner.functions.element.ul()");d=plugin_FormInputDesigner.verifyOptions(d);var c="ul";plugin_FormInputDesigner.addClassToOptions(d,"app-ul");return $(plugin_FormInputDesigner.generateOutput(d,c))},li:function(d){app.debug.trace("plugin_FormInputDesigner.functions.element.li()");d=plugin_FormInputDesigner.verifyOptions(d);var c="li";plugin_FormInputDesigner.addClassToOptions(d,"app-li");return $(plugin_FormInputDesigner.generateOutput(d,c))},div:function(d){app.debug.trace("plugin_FormInputDesigner.functions.element.div()");d=plugin_FormInputDesigner.verifyOptions(d);var c="div";plugin_FormInputDesigner.addClassToOptions(d,"app-div");return $(plugin_FormInputDesigner.generateOutput(d,c))},span:function(d){app.debug.trace("plugin_FormInputDesigner.functions.element.span()");d=plugin_FormInputDesigner.verifyOptions(d);var c="span";plugin_FormInputDesigner.addClassToOptions(d,"app-span");return plugin_FormInputDesigner.generateOutput(d,c)},canvas:function(d){app.debug.trace("plugin_FormInputDesigner.functions.element.canvas()");d=plugin_FormInputDesigner.verifyOptions(d);var c="canvas";plugin_FormInputDesigner.addClassToOptions(d,"app-canvas");return $(plugin_FormInputDesigner.generateOutput(d,c))}}}};var config_FormInputDesigner={name:"FormInputDesigner",shortname:"ni"};var config_GlobalPage={name:"GlobalPage",shortname:"gp",pathToImplementation:"../files/globalPage.js"};var plugin_GlobalSettings={config:null,constructor:function(){var b=$.Deferred();b.resolve();return b.promise()},pluginsLoaded:function(){app.debug.trace(this.config.name+".pluginsLoaded()");var b=$.Deferred();b.resolve();return b.promise()},pagesLoaded:function(){app.debug.trace("plugin_GlobalSettings.pagesLoaded()");var b=$.Deferred();b.resolve();return b.promise()},definePluginEvents:function(){app.debug.trace("plugin_GlobalSettings.definePluginEvents()")},afterHtmlInjectedBeforePageComputing:function(b){app.debug.trace("plugin_GlobalSettings.afterHtmlInjectedBeforePageComputing()")},pageSpecificEvents:function(b){app.debug.trace("plugin_GlobalSettings.pageSpecificEvents()")},functions:{get:function(b){app.debug.trace("plugin_GlobalSettings.functions.get()");return plugin_GlobalSettings.config.key},set:function(d,c){app.debug.trace("plugin_GlobalSettings.functions.set()");plugin_GlobalSettings.config.key=c}}};var config_GlobalSettings={name:"GlobalSettings",shortname:"settings"};var plugin_HelperFunctions={config:null,constructor:function(){var b=$.Deferred();b.resolve();return b.promise()},pluginsLoaded:function(){app.debug.trace("plugin_HelperFunctions.pluginsLoaded()");var b=$.Deferred();b.resolve();return b.promise()},pagesLoaded:function(){app.debug.trace("plugin_HelperFunctions.pagesLoaded()");var b=$.Deferred();b.resolve();return b.promise()},definePluginEvents:function(){app.debug.trace("plugin_HelperFunctions.definePluginEvents()")},afterHtmlInjectedBeforePageComputing:function(b){app.debug.trace("plugin_HelperFunctions.afterHtmlInjectedBeforePageComputing()")},pageSpecificEvents:function(){app.debug.trace("plugin_HelperFunctions.pageSpecificEvents()")},functions:{validate:{regex:function(d,e){app.debug.trace("plugin_HelperFunctions.functions.validate.regex()");var f;f=false;e=new RegExp(e,"g");app.debug.debug("plugin_HelperFunctions.functions.validate.regex() - regex: "+e);if(d==undefined){f=false}else{if(e.test(d)){f=true}}return f},firstname:function(d){app.debug.trace("plugin_HelperFunctions.functions.validate.firstname()");var f,e;f=false;e=new RegExp(plugin_HelperFunctions.config.validate.firstname,"g");app.debug.debug("plugin_HelperFunctions.functions.validate.firstname() - regex: "+e);if(d==undefined){f=false}else{if(e.test(d)){f=true}}return f},lastname:function(d){app.debug.trace("plugin_HelperFunctions.functions.validate.lastname()");var f,e;f=false;e=new RegExp(plugin_HelperFunctions.config.validate.lastname,"g");app.debug.debug("plugin_HelperFunctions.functions.validate.lastname() - regex: "+e);if(d==undefined){f=false}else{if(e.test(d)){f=true}}return f},username:function(f){app.debug.trace("plugin_HelperFunctions.functions.validate.username()");var d,e;d=false;e=new RegExp(plugin_HelperFunctions.config.validate.username,"g");app.debug.debug("plugin_HelperFunctions.functions.validate.username() - regex: "+e);if(f==undefined){d=false}else{if(e.test(f)){d=true}}return d},email:function(e){app.debug.trace("plugin_HelperFunctions.functions.validate.email()");var f,d;f=false;d=new RegExp(plugin_HelperFunctions.config.validate.email,"g");app.debug.debug("plugin_HelperFunctions.functions.validate.email() - regex: "+d);if(e==undefined){f=false}else{if(d.test(e)){f=true}}return f},website:function(e){app.debug.trace("plugin_HelperFunctions.functions.validate.website()");var f,d;f=false;d=new RegExp(plugin_HelperFunctions.config.validate.website,"g");app.debug.debug("plugin_HelperFunctions.functions.validate.website() - regex: "+d);if(e==undefined){f=false}else{if(d.test(e)){f=true}}return f},password:function(e){app.debug.trace("plugin_HelperFunctions.functions.validate.password()");var f,d;f=false;d=new RegExp(plugin_HelperFunctions.config.validate.password,"g");app.debug.debug("plugin_HelperFunctions.functions.validate.password() - regex: "+d);if(e==undefined){f=false}else{if(d.test(e)){f=true}}return f},equal:function(d,e){app.debug.trace("plugin_HelperFunctions.functions.validate.equal()");var f=false;if(d==e){f=true}return f}},random:{integer:function(b){app.debug.trace("plugin_HelperFunctions.functions.random.integer()");return Math.floor((Math.random()*b)+1)}},jQM:{enhance:function(b){app.debug.trace("plugin_HelperFunctions.functions.jQM.enhance()");b.find("[data-role=listview]").listview().listview("refresh");b.find("[data-role=collapsible]").collapsible();b.find("[data-role=controlgroup]").controlgroup();b.find("[data-role=slider]").flipswitch().flipswitch("refresh");b.find("[type=button], [type=submit]").button();b.find("[data-role=navbar]").navbar();b.find("[type=text], textarea, [type=search], [type=password], [type=number], [type=file]").textinput();b.find("[data-type=range]").slider().slider("refresh");b.find("[type=radio], [type=checkbox]").checkboxradio();b.find("select").selectmenu()}},navigation:{redirect:function(d,c){console.log("Deprecated Function! Use: app.nav...");setTimeout(function(){if(c!=undefined){$.mobile.changePage(d,{transition:c})}else{$(location).attr("href",d)}},50)},back:function(){console.warn("Deprecated Function! Use: app.nav...");window.history.back()},forward:function(){console.warn("Deprecated Function! Use: app.nav...");window.history.forward()},reload:function(){console.warn("Deprecated Function! Use: app.nav...");location.reload()},redirectAndReload:function(b){console.warn("Deprecated Function! Use: app.nav...");$.mobile.ajaxEnabled=false;window.location.replace(b)}},object:{setDeep:function(k,f,j){app.debug.trace("plugin_HelperFunctions.functions.object.setDeep()");f=f.split(".");var g=0,h=f.length;for(;g<h-1;++g){k=k[f[g]]}k[f[g]]=j},setDeepBase64Key:function(k,f,j){app.debug.trace("plugin_HelperFunctions.functions.object.setDeepBase64Key()");f=f.split(".");var g=0,h=f.length;for(;g<h-1;++g){k=k[atob(f[g])]}app.debug.debug("plugin_HelperFunctions.js ~ plugin_HelperFunctions.functions.object.setDeepBase64Key - "+k[atob(f[g])]+" = "+j,20);k[atob(f[g])]=j},getDeep:function(h,e){app.debug.trace("plugin_HelperFunctions.functions.object.getDeep()");e=e.split(".");var f=0,g=e.length;for(;f<g;++f){h=h[e[f]]}return h}},form:{serialize:function(c){app.debug.trace("plugin_HelperFunctions.functions.form.serialize()");var d={};c.find("input").each(function(b,a){if($(a).attr("type")=="checkbox"){d[$(a).attr("name")]=$(a).is(":checked")}else{if($(a).attr("type")=="radio"){if($(a).is(":checked")){d[$(a).attr("name")]=$(a).val()}}else{d[$(a).attr("name")]=$(a).val()}}});c.find("select").each(function(f,b){var a=Array();$(b).find("option:selected").each(function(h,e){a.push($(e).text())});d[$(b).attr("name")]=a});return d}}}};var config_HelperFunctions={name:"HelperFunctions",shortname:"help",validate:{email:"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?",password:"(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*[\\W]).{8,100}",username:"(.){2,99}",firstname:"(.){2,99}",lastname:"(.){2,99}"}};var plugin_HTML5Storage={config:null,type:{object:"_t_pojo_",array:"_t_array_"},constructor:function(){var b=$.Deferred();b.resolve();return b.promise()},pluginsLoaded:function(){app.debug.trace("plugin_HTML5Storage.pluginsLoaded()");var b=$.Deferred();b.resolve();return b.promise()},pagesLoaded:function(){app.debug.trace("plugin_HTML5Storage.pagesLoaded()");var b=$.Deferred();b.resolve();return b.promise()},definePluginEvents:function(){app.debug.trace("plugin_HTML5Storage.definePluginEvents()");$(document).on("click","a",function(b){app.debug.alert("plugin.HTML5Storage.js plugin_HTML5Storage.definePluginEvents()",12);$.each($(this).attrs(),function(a,d){if(a.substring(0,11).trim().toLowerCase()=="data-html5-"){app.debug.alert("plugin.HTML5Storage.js plugin_HTML5Storage.definePluginEvents() Set localStorage: "+a+" = "+d,60);plugin_HTML5Storage.functions.localStorage.set(a,d)}});app.debug.debug("plugin_HTML5Storage.definePluginEvents() - trigger: storagefilled");$(this).trigger("storagefilled")})},afterHtmlInjectedBeforePageComputing:function(b){app.debug.trace("plugin_HTML5Storage.afterHtmlInjectedBeforePageComputing()")},pageSpecificEvents:function(b){app.debug.trace("plugin_HTML5Storage.pageSpecificEvents()")},setDeep:function(k,f,j){console.warn("Fuction is deprecated. Use: app.help.object.setDeep");app.debug.alert("plugin_HTML5Storage.setDeep("+k+", "+f+", "+j+")");f=f.split(".");var g=0,h=f.length;for(;g<h-1;++g){k=k[f[g]]}return k[f[g]]=j},setDeepX:function(o,n,m){app.debug.debug("plugin_HTML5Storage.setDeepX("+JSON.stringify(o)+", "+n+", "+m+")");var j=n.split("."),k,h,l;k=j[0];if(k){app.debug.debug("plugin_HTML5Storage.setDeepX() - case: depth >0");if(k.startsWith(plugin_HTML5Storage.type.array)){app.debug.debug("plugin_HTML5Storage.setDeepX() - case: object is an array");h=(k.substring(plugin_HTML5Storage.type.array.length));app.debug.debug("plugin_HTML5Storage.setDeepX() - array index: "+h);if(!Array.isArray(o)){app.debug.debug("plugin_HTML5Storage.setDeepX() - array is not defined - define empty array");o=[]}if(j.length==1){app.debug.debug("plugin_HTML5Storage.setDeepX() - case: depth 1; push value to array: "+m);o.push(m)}else{if(j[1].startsWith(plugin_HTML5Storage.type.object)){app.debug.debug("plugin_HTML5Storage.setDeepX() - next element is an object; so push empty object");if(!o[h]){o.push({})}}else{if(j[1].startsWith(plugin_HTML5Storage.type.array)){app.debug.debug("plugin_HTML5Storage.setDeepX() - next element is an array; so push empty array; next key: "+j[1]);if(!o[h]){o.push([])}}}app.debug.debug("plugin_HTML5Storage.setDeepX() - call recursively for nested array");o[k]=this.setDeepX(o[h],n.substr(k.length+1),m)}}else{if(k.startsWith(plugin_HTML5Storage.type.object)){app.debug.debug("plugin_HTML5Storage.setDeepX() - case: object is an object");l=(k.substring(plugin_HTML5Storage.type.object.length));if(j.length==1){app.debug.debug("plugin_HTML5Storage.setDeepX() - case: depth 1; so add the value: "+m+" to key: "+k);o[l]=m}else{if(!o[l]){app.debug.debug("plugin_HTML5Storage.setDeepX() - case: object key is not defined - define empty object: "+k);o[l]={}}app.debug.debug("plugin_HTML5Storage.setDeepX() - call recursively for nested object");o[l]=this.setDeepX(o[l],n.substr(k.length+1),m)}}else{if(j.length==1){app.debug.debug("plugin_HTML5Storage.setDeepX() - case: depth 1; so add the value: "+m+" to key: "+k);app.debug.debug("plugin_HTML5Storage.setDeepX() - value type == value");o[k]=m}else{app.debug.debug("plugin_HTML5Storage.setDeepX() - case: root element");if(!o[k]){app.debug.debug("plugin_HTML5Storage.setDeepX() - case: object key is not defined - define empty object: "+k);o[k]={}}app.debug.debug("plugin_HTML5Storage.setDeepX() - call recursively for nested object");o[k]=this.setDeepX(o[k],n.substr(k.length+1),m)}}}}return o},getDeep:function(h,e){console.warn("Fuction is deprecated. Use: app.help.object.getDeep");app.debug.alert("plugin_HTML5Storage.getDeep("+h+", "+e+")");e=e.split(".");var f=0,g=e.length;for(;f<g;++f){h=h[e[f]]}return h},parseValue:function(b){app.debug.trace("plugin_HTML5Storage.parseValue()");switch(b){case"true":app.debug.alert("plugin_HTML5Storage.parseValue() - case: value == true");b=true;break;case"false":app.debug.alert("plugin_HTML5Storage.parseValue() - case: value == false");b=false;break;case"null":app.debug.alert("plugin_HTML5Storage.parseValue() - case: value == null");b=null;break;default:app.debug.alert("plugin_HTML5Storage.parseValue() - case: default");if(/^(\+|\-){0,1}([0-9])+$/.test(b)){app.debug.alert("plugin_HTML5Storage.parseValue() - case: typeof value == integer");b=parseInt(b)}else{if(/^(\+|\-){0,1}([0-9])+(\.){1}([0-9])+$/.test(b)){app.debug.alert("plugin_HTML5Storage.parseValue() - case: typeof value == float");b=parseFloat(b)}else{app.debug.alert("plugin_HTML5Storage.parseValue() - case: value == ???")}}break}app.debug.alert("plugin_HTML5Storage.parseValue() - return: "+b);return b},getSpace:function(f){app.debug.trace("plugin_HTML5Storage.getSpace()");var e="",d;for(d=0;d<f;d++){e=e+" "}return e},functions:{pufferedFormValuePrefix:"pufferedFormValue-",localStorage:{set:function(d,c){app.debug.trace("plugin_HTML5Storage.functions.localStorage.set()");d=d.toLowerCase();window.localStorage.setItem(app.config.name+"."+d,c);return true},get:function(b){app.debug.trace("plugin_HTML5Storage.functions.localStorage.get()");b=b.toLowerCase();return plugin_HTML5Storage.parseValue(window.localStorage.getItem(app.config.name+"."+b))},clear:function(){app.debug.trace("plugin_HTML5Storage.functions.localStorage.clear()");$.each(window.localStorage,function(d,c){if(d.substring(0,app.config.name.length)==app.config.name){window.localStorage.removeItem(d)}});return true},clearHtml5:function(){app.debug.trace("plugin_HTML5Storage.functions.localStorage.clearHtml5()");$.each(window.localStorage,function(e,f){if(e.substr(app.config.name.length+1,10)=="data-html5"){try{window.localStorage.removeItem(e.trim())}catch(d){alert(d)}}});return true},pufferFormValues:function(b){app.debug.trace("plugin_HTML5Storage.functions.localStorage.pufferFormValues()");b.find("input[type=text], input[type=password]").each(function(a,d){plugin_HTML5Storage.functions.localStorage.set(plugin_HTML5Storage.functions.pufferedFormValuePrefix+b.attr("id")+"__"+$(d).attr("id"),$(d).val())})},getPufferedFormValue:function(d,f){app.debug.trace("plugin_HTML5Storage.functions.localStorage.getPufferedFormValue()");var e;if(typeof d=="object"){e=d.attr("id")}else{e=d}return plugin_HTML5Storage.functions.localStorage.get(plugin_HTML5Storage.functions.pufferedFormValuePrefix+e+"__"+f)},restorePufferedFormValues:function(b){app.debug.trace("plugin_HTML5Storage.functions.localStorage.restorePufferedFormValues()");b.find("input[type=text]").each(function(a,h){var f,g;f=$(h).attr("id");g=plugin_HTML5Storage.functions.localStorage.getPufferedFormValue(b,f);$(h).val(g)})},clearPufferedFormValues:function(){app.debug.trace("plugin_HTML5Storage.functions.localStorage.clearPufferedFormValues()");var b;$.each(window.localStorage,function(a,h){if(a.substring(0,app.config.name.length)==app.config.name){b=a.substring(app.config.name.length+1);var f,g;f=b.substring(0,plugin_HTML5Storage.functions.pufferedFormValuePrefix.length).toLowerCase();g=plugin_HTML5Storage.functions.pufferedFormValuePrefix.toLowerCase();if(f==g){window.localStorage.removeItem(a)}}})},removeItem:function(e){app.debug.trace("plugin_HTML5Storage.functions.localStorage.removeItem()");var d,f;if(e.indexOf("*")!=-1){app.debug.debug("plugin_HTML5Storage.functions.localStorage.removeItem() - wildcard detected: *");d=e.substring(0,e.indexOf("*")).toLowerCase();$.each(window.localStorage,function(c,a){f=c.substr(app.config.name.length+1,d.length).toLowerCase();app.debug.debug("plugin_HTML5Storage.functions.localStorage.removeItem() - "+f+" == "+d);if(f==d){app.debug.debug("plugin_HTML5Storage.functions.localStorage.removeItem() - case: "+f+" == "+d);try{window.localStorage.removeItem(c.trim())}catch(b){alert(b)}}})}else{window.localStorage.removeItem(app.config.name+"."+e)}return true},show:function(){app.debug.trace("plugin_HTML5Storage.functions.localStorage.show()");var d="",c=0;$.each(window.localStorage,function(b,a){if(b.substring(0,app.config.name.length)==app.config.name){d+=b+"\n"+plugin_HTML5Storage.getSpace(app.config.name.length+1)+b.substring(app.config.name.length+1)+" = "+a+"\n";c++}else{d+=b+" = "+a+"\n";c++}});return d},log:function(){app.debug.trace("plugin_HTML5Storage.functions.localStorage.log()");$.each(window.localStorage,function(d,c){if(d.substring(0,app.config.name.length)==app.config.name){app.debug.log(d.substring(app.config.name.length+1)+" = "+c)}})},setObject:function(c,d){app.debug.trace("plugin_HTML5Storage.functions.localStorage.setObject()");app.debug.debug("plugin_HTML5Storage.functions.localStorage.setObject("+c+", "+JSON.stringify(d)+")");c=c.toLowerCase();$.each(d,function(b,a){app.debug.debug("plugin_HTML5Storage.functions.localStorage.setObject() - element: "+b+" = "+a);if(Array.isArray(d)){b=plugin_HTML5Storage.type.array+b}else{if($.isPlainObject(d)){b=plugin_HTML5Storage.type.object+b}}if(typeof a=="object"&&a!=null){app.debug.debug("plugin_HTML5Storage.functions.localStorage.setObject() - nested object");plugin_HTML5Storage.functions.localStorage.setObject((c+"."+b).trim(),a)}else{plugin_HTML5Storage.functions.localStorage.set((c+"."+b).trim(),a)}});return true},getObject:function(c){app.debug.trace("plugin_HTML5Storage.functions.localStorage.getObject()");app.debug.debug('plugin_HTML5Storage.functions.localStorage.getObject("'+c+'")');c=c.toLowerCase();var d={};$.each(window.localStorage,function(j,b){var a,h,k;app.debug.debug("plugin_HTML5Storage.functions.localStorage.getObject() - element: "+j+" = "+b);k=j.substr(app.config.name.length+1,c.length).trim();if(k==c.trim()){app.debug.debug("plugin_HTML5Storage.functions.localStorage.getObject() - found part of object: "+k);a=j.substr(app.config.name.length+1);app.debug.debug("plugin_HTML5Storage.functions.localStorage.getObject() - storage key: "+a);h=plugin_HTML5Storage.functions.localStorage.get(j.substr(app.config.name.length+1));app.debug.debug("plugin_HTML5Storage.functions.localStorage.getObject() - storage value: "+h);d=plugin_HTML5Storage.setDeepX(d,a,h)}});if(d[c]!=undefined){return d[c]}else{return null}},removeObject:function(d){d=d.toLowerCase();app.debug.trace("plugin_HTML5Storage.functions.localStorage.removeObject()");var c=true;$.each(window.localStorage,function(f,a){if(f.substr(app.config.name.length+1,d.length)==d.trim()){try{window.localStorage.removeItem(f.trim())}catch(b){alert(b);c=false}}});return c},getList:function(d){app.debug.trace("plugin_HTML5Storage.functions.localStorage.getList()");var c={};$.each(window.localStorage,function(b,a){if(b.substr(app.config.name.length+1,d.length)==d){c[b.substr(app.config.name.length+1)]=plugin_HTML5Storage.functions.localStorage.get(b.substr(app.config.name.length+1))}});return c}},sessionStorage:{set:function(d,c){app.debug.trace("plugin_HTML5Storage.functions.sessionStorage.set()");window.sessionStorage.setItem(d,c)},get:function(b){app.debug.trace("plugin_HTML5Storage.functions.sessionStorage.get()");window.sessionStorage.getItem(b)},clear:function(){window.sessionStorage.clear()},removeItem:function(b){window.sessionStorage.removeItem(b)},show:function(){}},ss:this.sessionStorage}};var config_HTML5Storage={name:"HTML5Storage",shortname:"store"};var plugin_HtmlTemplates={config:null,templates:{},constructor:function(){var b=$.Deferred();b.resolve();return b.promise()},pluginsLoaded:function(){app.debug.trace("plugin_HtmlTemplates.pluginsLoaded()");var e=$.Deferred(),d=Array(),f;$.each(plugin_HtmlTemplates.config.templates,function(b,a){if(a.url!=undefined){d.push(globalLoader.AsyncTextLoader(a.url));d.push(globalLoader.AsyncTextLoader(a.url.substr(0,a.url.lastIndexOf("."))+".css"))}else{$.each(plugin_HtmlTemplates.config.templates[b],function(h,c){if(c.url!=undefined){d.push(globalLoader.AsyncTextLoader(c.url));d.push(globalLoader.AsyncTextLoader(c.url.substr(0,c.url.lastIndexOf("."))+".css"))}})}});f=$.when.apply($,d);f.done(function(){var c=arguments,a,b=0;$.each(plugin_HtmlTemplates.config.templates,function(k,j){if(j.url!=undefined){plugin_HtmlTemplates.templates[k]={};plugin_HtmlTemplates.templates[k]["html"]=(c[b]);b=b+1;plugin_HtmlTemplates.templates[k]["css"]=(c[b]);b=b+1}else{a=k;plugin_HtmlTemplates.templates[a]={};$.each(plugin_HtmlTemplates.config.templates[k],function(h,g){if(g.url!=undefined){plugin_HtmlTemplates.templates[a][h]={};plugin_HtmlTemplates.templates[a][h]["html"]=(c[b]);b=b+1;plugin_HtmlTemplates.templates[a][h]["css"]=(c[b]);b=b+1}})}});e.resolve()});f.fail(function(){e.reject()});return e.promise()},pagesLoaded:function(){app.debug.trace("plugin_HtmlTemplates.pagesLoaded()");var b=$.Deferred();b.resolve();return b.promise()},definePluginEvents:function(){},afterHtmlInjectedBeforePageComputing:function(b){app.debug.trace("plugin_HtmlTemplates.afterHtmlInjectedBeforePageComputing()")},pageSpecificEvents:function(b){app.debug.trace("plugin_HtmlTemplates.pageSpecificEvents()")},getText:function(k,f){app.debug.trace("plugin_HtmlTemplates.getText()");var h=null,g=null,j;if(f!=undefined){h=plugin_HtmlTemplates.templates[f][k]["html"];g=plugin_HtmlTemplates.templates[f][k]["css"];j=plugin_HtmlTemplates.templates[f][k]["styleIsActive"];if(j==undefined){j=plugin_HtmlTemplates.templates[f][k]["styleIsActive"]=false}}else{h=plugin_HtmlTemplates.templates[k]["html"];g=plugin_HtmlTemplates.templates[k]["css"];j=plugin_HtmlTemplates.templates[k]["styleIsActive"];if(j==undefined){j=plugin_HtmlTemplates.templates[k]["styleIsActive"]=false}}if($("style")[0]==undefined){$("head").append("<style></style>")}if(j===false){$("style").append(g);if(f!=undefined){plugin_HtmlTemplates.templates[f][k]["styleIsActive"]=true}else{plugin_HtmlTemplates.templates[k]["styleIsActive"]=true}}app.debug.debug("plugin_HtmlTemplates.getText() - text: "+h);return h},getElements:function(d,e){app.debug.trace("plugin_HtmlTemplates.getElements()");var f;if(e!=undefined){f=plugin_HtmlTemplates.config.templates[e][d]["elements"]}else{f=plugin_HtmlTemplates.config.templates[d]["elements"]}if(f==undefined){f={}}app.debug.debug("plugin_HtmlTemplates.getElements() - elements: "+JSON.stringify(f));return f},functions:{get:function(c,d){app.debug.trace("plugin_HtmlTemplates.functions.get()");app.debug.debug("plugin_HtmlTemplates.functions.get() - templateId: "+c);app.debug.debug("plugin_HtmlTemplates.functions.get() - context: "+d);return $(plugin_HtmlTemplates.getText(c,d))},append:function(e,f,d){app.debug.trace("plugin_HtmlTemplates.functions.append()");$(e).append(plugin_HtmlTemplates.functions.get(f,d))},prepend:function(e,f,d){app.debug.trace("plugin_HtmlTemplates.functions.prepend()");$(e).prepend(plugin_HtmlTemplates.functions.get(f,d))},overwrite:function(e,f,d){app.debug.trace("plugin_HtmlTemplates.functions.overwrite()");app.debug.debug("plugin_HtmlTemplates.functions.overwrite() - selector: "+e);app.debug.debug("plugin_HtmlTemplates.functions.overwrite() - templateId: "+f);app.debug.debug("plugin_HtmlTemplates.functions.overwrite() - context: "+d);$(e).empty();$(e).attr("data-context",f);$(e).prepend(plugin_HtmlTemplates.functions.get(f,d));app.debug.debug("plugin_HtmlTemplates.functions.overwrite() - new html code: "+$(e)[0].outerHTML)},elements:function(c,d){app.debug.trace("plugin_HtmlTemplates.functions.elements()");return plugin_HtmlTemplates.getElements(c,d)}}};var config_HtmlTemplates={name:"HtmlTemplates",shortname:"template",templates:{JQueryMobilePageStructure:{url:"../template/JQueryMobilePageStructure.html",elements:{content:"div[data-role=content]"}},JQueryMobilePlainPage:{url:"../template/JQueryMobilePlainPage.html",elements:{content:"div[data-role=content]"}},JQueryMobileHeaderPage:{url:"../template/JQueryMobileHeaderPage.html",elements:{content:"div[data-role=content]"}},JQueryMobileNavigationPanel:{url:"../template/JQueryMobileNavigationPanel.html"},JQueryMobilePopupDialog:{url:"../template/JQueryMobilePopupDialog.html"},JQueryMobilePopupAlert:{url:"../template/JQueryMobilePopupAlert.html"},"app-loader-bubble":{url:"../template/app.loader.bubble.html"},"app-loader-bubble-inline-button":{url:"../template/app.loader.bubble.inline-button.html"},"app-loader-bubbleDiv":{url:"../template/app.loader.bubbleDiv.html"},themis:{ThemisHeaderContent:{url:"../template/ThemisHeaderContent.html"},ThemisNavigationPanelContent:{url:"../template/ThemisNavigationPanelContent.html"}},responsive:{"grid-33-33-33":{url:"../template/app.responsive.grid.33.33.33.html"},listA:{url:"../template/app.responsive.list.A.html"},listB:{url:"../template/app.responsive.list.B.html"}}}};var plugin_HtmlView={config:null,constructor:function(){var b=$.Deferred();b.resolve();return b.promise()},pluginsLoaded:function(){app.debug.alert(this.config.name+".pluginsLoaded()",11);var b=$.Deferred();b.resolve();return b.promise()},pagesLoaded:function(){app.debug.alert("plugin_"+this.config.name+".pagesLoaded()",11);var b=$.Deferred();b.resolve();return b.promise()},definePluginEvents:function(){app.debug.alert("plugin_"+this.config.name+".definePluginEvents()",11)},afterHtmlInjectedBeforePageComputing:function(b){app.debug.alert("plugin_"+this.config.name+".afterHtmlInjectedBeforePageComputing()",11)},pageSpecificEvents:function(b){app.debug.alert("plugin_"+this.config.name+".pageSpecificEvents()",11);$(document).on("pagecontainerbeforetransition",function(j,h){var a,k,g;a=h.toPage.attr("id");k=plugin_HtmlView.config.multilanguageContext;g=app.lang.string(app.config.title,k)+" - "+app.lang.string(a,k);h.toPage.attr("data-title",g)})},functions:{page:{width:function(e,f){var d=parseInt($("div[data-role=page]").css("width"));if(d>f){return f}else{if(d<e){return e}}return d},height:function(e,f){var d=parseInt($("div[data-role=page]").css("height"));if(d>f){return f}return d}},content:{width:function(e,f){var d=parseInt($("div[data-role=content]").css("width"));if(d>f){return f}else{if(d<e){return e}}return d},height:function(e,f){var d=parseInt($("div[data-role=content]").css("height"));if(d>f){return f}else{if(d<e){return e}}return d}},window:{width:function(e,f){var d=parseInt($(window).width());if(d>f){return f}else{if(d<e){return e}}return d},height:function(e,f){var d=parseInt($(window).height());if(d>f){return f}else{if(d<e){return e}}return d}}}};var config_HtmlView={name:"HtmlView",shortname:"view",multilanguageContext:"view"};var plugin_ImageProvider={config:null,images:{},constructor:function(){var b=$.Deferred();b.resolve();return b.promise()},loadDefinitionFile:function(d){var e=$.Deferred(),f;f=globalLoader.AsyncJsonLoader(d);f.done(function(a){$.each(a,function(b,c){plugin_ImageProvider.images[b]=c});e.resolve()});f.fail(function(){e.reject()});return e.promise()},pluginsLoaded:function(){app.debug.alert(this.config.name+".pluginsLoaded()",11);var e=$.Deferred(),d=Array(),f;$.each(plugin_ImageProvider.config.imgdFiles,function(a,b){if(b){d.push(plugin_ImageProvider.loadDefinitionFile(a))}});f=$.when.apply($,d);f.done(function(){e.resolve()});f.done(function(){e.reject()});return e.promise()},pagesLoaded:function(){app.debug.alert("plugin_"+this.config.name+".pagesLoaded()",11);var b=$.Deferred();b.resolve();return b.promise()},definePluginEvents:function(){app.debug.alert("plugin_"+this.config.name+".definePluginEvents()",11)},afterHtmlInjectedBeforePageComputing:function(b){app.debug.alert("plugin_"+this.config.name+".afterHtmlInjectedBeforePageComputing()",11)},pageSpecificEvents:function(b){app.debug.alert("plugin_"+this.config.name+".pageSpecificEvents()",11)},functions:{getUrlById:function(g,f){var e,h;if((e=plugin_ImageProvider.images[g])==undefined){console.warn("ImageProvider - Undefined image: "+g);h='{"'+g+'":"PATH"}';app.debug.feedback.image(JSON.parse(h));e=g}return e},getUrlByIdForSkin:function(g,h){var e=null,f;if(h==undefined){e=plugin_ImageProvider.images[g]}else{if(plugin_ImageProvider.images[h]==undefined){console.warn("Image - context doesn't exist: "+h);f='{"'+h+'" : {}}';app.debug.feedback.image(JSON.parse(f));e=g}else{e=plugin_ImageProvider.images[h][g]}}if(e!=undefined){return e.substring(0,e.lastIndexOf("/"))+"/"+plugin_Skin.config.defaultSkin+e.substring(e.lastIndexOf("/"),e.length)}else{console.warn("Image - "+h+"."+g+" == undefined");f='{"'+h+'" : {"'+g+'" : "URL"}}';app.debug.feedback.image(JSON.parse(f));return g}}}};var config_ImageProvider={name:"ImageProvider",shortname:"img",imgdFiles:{"../files/imgd/imgd.themis.json":true}};var plugin_IndexDb={config:null,db:null,constructor:function(){var b=$.Deferred();window.indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;window.IDBTransaction=window.IDBTransaction||window.webkitIDBTransaction||window.msIDBTransaction;window.IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange||window.msIDBKeyRange;if(!window.indexedDB){console.error("Your browser doesn't support a stable version of IndexedDB. Such and such feature will not be available.")}b.resolve();return b.promise()},pluginsLoaded:function(){app.debug.alert(this.config.name+".pluginsLoaded()",11);var b=$.Deferred();b.resolve();return b.promise()},pagesLoaded:function(){app.debug.alert("plugin_"+this.config.name+".pagesLoaded()",11);var b=$.Deferred();b.resolve();return b.promise()},definePluginEvents:function(){app.debug.alert("plugin_"+this.config.name+".definePluginEvents()",11)},afterHtmlInjectedBeforePageComputing:function(b){app.debug.alert("plugin_"+this.config.name+".afterHtmlInjectedBeforePageComputing()",11)},pageSpecificEvents:function(b){app.debug.alert("plugin_"+this.config.name+".pageSpecificEvents()",11)},initDb:function(){request=indexedDB.open(app.config.name,app.config.version.app_int*100);request.onerror=function(b){console.error("Why didn't you allow my web app to use IndexedDB?!")};request.onsuccess=function(b){plugin_IndexDb.db=b.target.result};request.onupgradeneeded=function(b){plugin_IndexDb.db=b.target.result}},functions:{getObjectStore:function(d,c){if(plugin_IndexDb.db.objectStoreNames.contains(d)){return plugin_IndexDb.db.transaction(d,"readwrite").objectStore(d)}else{return plugin_IndexDb.db.createObjectStore(d,c)}}}};var config_IndexDb={name:"IndexDb",shortname:"idb"};var plugin_Informator={config:null,configurationPrefix:"informator-config",constructor:function(){var b=$.Deferred();b.resolve();return b.promise()},pluginsLoaded:function(){app.debug.alert(this.config.name+".pluginsLoaded()",11);var d,c;d=$.Deferred();if(this.config.useHtml5Storage&&this.config.savePluginConfig){app.debug.alert("plugin_Informator.pluginsLoaded() - case: load plugin config from html5 storage");c={};$.each(plugins.pluginNames,function(b,a){if(plugin_Informator.config.excludedPlugins.indexOf(a)==-1){if(c["plugin_"+a]==undefined){c["plugin_"+a]={}}c["plugin_"+a]["config"]=window["plugin_"+a]["config"]}});this.loadConfigurationIntoHtml5Storage(c)}d.resolve();return d.promise()},pagesLoaded:function(){var d=$.Deferred(),c;app.debug.alert("plugin_"+this.config.name+".pagesLoaded()",11);if(this.config.useHtml5Storage&&this.config.savePageConfig){c={};$.each(pages.pageNames,function(b,a){if(c["page_"+a]==undefined){c["page_"+a]={}}c["page_"+a]["config"]=globalLoader.JsonLoader("../js/page/page."+a+".json")});this.loadConfigurationIntoHtml5Storage(c)}d.resolve();return d.promise()},definePluginEvents:function(){},afterHtmlInjectedBeforePageComputing:function(b){app.debug.alert("Plugin: "+this.config.name+".afterHtmlInjectedBeforePageComputing()",5)},pageSpecificEvents:function(b){app.debug.alert("Plugin: "+this.config.name+".pageSpecificEvents()",5)},setDeep:function(k,f,j){console.warn("Fuction is deprecated. Use: app.help.object.setDeep");f=f.split(".");var g=0,h=f.length;for(;g<h-1;++g){k=k[f[g]]}return k[f[g]]=j},getDeep:function(h,e){console.warn("Fuction is deprecated. Use: app.help.object.getDeep");e=e.split(".");var f=0,g=e.length;for(;f<g;++f){h=h[e[f]]}return h},loadConfigurationIntoHtml5Storage:function(d,c){app.debug.alert("plugin_Informator.loadConfigurationIntoHtml5Storage()");app.debug.alert("plugin_Informator.loadConfigurationIntoHtml5Storage() - if property is in html5 storage then use this value",20);app.debug.alert("plugin_Informator.loadConfigurationIntoHtml5Storage() - else use property from json file");if(!d||d==undefined){return}if(c==undefined){c=""}$.each(d,function(f,b){app.debug.alert("plugin_Informator.loadConfigurationIntoHtml5Storage() - compute  key/value pair");var a;if(typeof b!="object"){app.debug.alert("plugin_Informator.loadConfigurationIntoHtml5Storage() - case: value != object");a=plugin_Informator.configurationPrefix+c+"."+f;if(app.store.localStorage.get(a)===null){app.debug.alert("plugin_Informator.loadConfigurationIntoHtml5Storage() - case: key '"+a+"' doesn't exists in html5 storage");app.store.localStorage.set(a,b)}else{app.debug.alert("plugin_Informator.loadConfigurationIntoHtml5Storage() - case: key '"+a+"' exists in html5 storage");plugin_Informator.loadValueIntoObject(a)}}else{app.debug.alert("plugin_Informator.loadConfigurationIntoHtml5Storage() - case: value == object");app.debug.alert("plugin_Informator.loadConfigurationIntoHtml5Storage() - go recursive into object");plugin_Informator.loadConfigurationIntoHtml5Storage(b,c+"."+f)}})},loadValueIntoObject:function(e){app.debug.alert("plugin_Informator.loadValueIntoObject("+e+")");var d=e.substring(plugin_Informator.configurationPrefix.length+1),f=app.store.localStorage.get(e);if(d.indexOf("..")<0){app.help.object.setDeep(window,d,f)}else{app.debug.alert('plugin_Informator.loadValueIntoObject() - ".." detected')}},functions:{set:function(d,c){app.debug.alert("plugin_Informator.functions.set("+d+", "+c+")");if(plugin_Informator.config.useHtml5Storage){app.store.localStorage.set(plugin_Informator.configurationPrefix+"."+d,c)}app.help.object.setDeep(window,d,c)},firstUse:function(b){app.debug.alert("plugin_Informator.functions.firstUse("+b+")");if(b==undefined){app.debug.alert("plugin_Informator.functions.firstUse("+b+") - case: value == undefined");app.debug.alert("plugin_Informator.functions.firstUse() - return: "+app.store.localStorage.get("informator-first-use"));if(app.store.localStorage.get("informator-first-use")===null){return true}else{return false}}else{if(typeof b=="boolean"){app.debug.alert("plugin_Informator.functions.firstUse("+b+") - case: typeof value == boolean");app.debug.alert("plugin_Informator.functions.firstUse() - set firstUse to: "+b);app.store.localStorage.set("informator-first-use",b);if(b==false){app.debug.alert("plugin_Informator.functions.firstUse() - case: value == false")}app.debug.alert("plugin_Informator.functions.firstUse() - return: "+b);return b}else{app.debug.alert("plugin_Informator.functions.firstUse() - return: null");return null}}}}};var config_Informator={name:"Informator",shortname:"info",excludedPlugins:["Debug"],useHtml5Storage:true,savePluginConfig:true,savePageConfig:false};var plugin_jQueryExtend={config:null,constructor:function(){var b=$.Deferred();b.resolve();return b.promise()},pluginsLoaded:function(){app.debug.alert(this.config.name+".pluginsLoaded()",11);var b=$.Deferred();(function(a){a.fn.attrs=function(p){var n=a(this),q,r,m,s,o,j;if(p){n.each(function(d,c){q=a(c);for(s in p){q.attr(s,p[s])}});return n}else{r={},m=n.get(0);if(m){m=m.attributes;for(o in m){j=m[o];if(j!=null){if(typeof j.value!=="undefined"){r[j.nodeName]=j.value}}}}return r}}})(jQuery);b.resolve();return b.promise()},pagesLoaded:function(){app.debug.alert("plugin_"+this.config.name+".pagesLoaded()",11);var b=$.Deferred();b.resolve();return b.promise()},definePluginEvents:function(){},afterHtmlInjectedBeforePageComputing:function(b){app.debug.alert("Plugin: "+this.config.name+".afterHtmlInjectedBeforePageComputing()",5)},pageSpecificEvents:function(b){app.debug.alert("Plugin: "+this.config.name+".pageSpecificEvents()",5)},functions:{}};var config_jQueryExtend={name:"jQueryExtend",shortname:"jExt"};var plugin_KeepAlive={config:null,interval:null,constructor:function(){var b=$.Deferred();b.resolve();return b.promise()},pluginsLoaded:function(){app.debug.alert(this.config.name+".pluginsLoaded()");app.debug.alert("plugin_KeepAlive.pluginsLoaded() - try first keep alive");var b=$.Deferred();if(plugin_KeepAlive.config.useKeepAlive){app.debug.alert("plugin_KeepAlive.pluginsLoaded() case: plugin_KeepAlive.config.useKeepAlive == true");app.debug.alert("plugin_KeepAlive.pluginsLoaded() call: plugin_KeepAlive.keepAliveRequest() to make a first keepAlive request");plugin_KeepAlive.keepAliveRequest();app.debug.alert("plugin_KeepAlive.pluginsLoaded() initialize the keepAlive interval: plugin_KeepAlive.interval ");plugin_KeepAlive.interval=window.setInterval("plugin_KeepAlive.keepAliveRequest()",plugin_KeepAlive.config.intervalInS*1000)}b.resolve();return b.promise()},pagesLoaded:function(){app.debug.alert("plugin_"+this.config.name+".pagesLoaded()");var b=$.Deferred();b.resolve();return b.promise()},definePluginEvents:function(){app.debug.alert("plugin_"+this.config.name+".definePluginEvents()")},afterHtmlInjectedBeforePageComputing:function(b){app.debug.alert("plugin_"+this.config.name+".afterHtmlInjectedBeforePageComputing()")},pageSpecificEvents:function(b){app.debug.alert("plugin_"+this.config.name+".pageSpecificEvents()")},eventTriggering:function(){app.debug.alert("plugin_KeepAlive.eventTriggering()");if(!plugin_KeepAlive.config.isAlive){$("[data-role=page]").trigger("connectionisdead")}else{if(plugin_KeepAlive.config.isAlive){$("[data-role=page]").trigger("connectionisalive")}}},ajaxSuccess:function(h,g,e){app.debug.alert("plugin_KeepAlive.ajaxSuccess()");var f=Date.now()-plugin_KeepAlive.startTime;if(f>=plugin_KeepAlive.config.maximumResponseTime){app.info.set("plugin_KeepAlive.config.lastDuration",f);app.info.set("plugin_KeepAlive.config.isAlive",false);app.info.set("plugin_KeepAlive.config.error.code",2);app.info.set("plugin_KeepAlive.config.error.text","Timeout error")}else{app.info.set("plugin_KeepAlive.config.lastDuration",f);app.info.set("plugin_KeepAlive.config.isAlive",true);app.info.set("plugin_KeepAlive.config.error.code",0);app.info.set("plugin_KeepAlive.config.error.text","No error")}app.debug.alert("plugin_KeepAlive.ajaxSuccess() value: plugin_KeepAlive.config.lastDuration = "+app.store.localStorage.get("config.plugin_KeepAlive.config.lastDuration"));app.debug.alert("plugin_KeepAlive.ajaxSuccess() value: plugin_KeepAlive.config.isAlive = "+app.store.localStorage.get("config.plugin_KeepAlive.config.isAlive"));app.debug.alert("plugin_KeepAlive.ajaxSuccess() value: plugin_KeepAlive.config.error.code = "+app.store.localStorage.get("config.plugin_KeepAlive.config.error.code"));app.debug.alert("plugin_KeepAlive.ajaxSuccess() value: plugin_KeepAlive.config.error.text = "+app.store.localStorage.get("config.plugin_KeepAlive.config.error.text"));plugin_KeepAlive.eventTriggering()},ajaxError:function(e,g,h){app.debug.alert("plugin_KeepAlive.ajaxError()");var f=Date.now()-plugin_KeepAlive.startTime;app.info.set("plugin_KeepAlive.config.lastDuration",f);app.info.set("plugin_KeepAlive.config.isAlive",false);app.info.set("plugin_KeepAlive.config.error.code",1);app.info.set("plugin_KeepAlive.config.error.text","Webservice Error: ");app.debug.alert("plugin_KeepAlive.ajaxSuccess() - KeepAlive request failed.\nReason: "+plugin_KeepAlive.config.error.text+"\nTime: "+f+"\n\n"+JSON.stringify(h,null,4),60);plugin_KeepAlive.eventTriggering()},ajax:function(h,k,g,j,l){app.debug.alert("plugin.KeepAlive.js plugin_KeepAlive.ajax("+h+", "+k+", "+g+", "+j+", "+l+")");try{$.ajax({cache:false,url:h,data:k,dataType:g,async:true,method:j,timeout:l,success:plugin_KeepAlive.ajaxSuccess,error:plugin_KeepAlive.ajaxError})}catch(m){alert("Fatal exception!\n\n"+JSON.stringify(m,null,4));app.debug.log(JSON.stringify(m,null,4))}},keepAliveRequest:function(){app.debug.alert("plugin_KeepAlive.keepAliveRequest()");var l,n,k,o,m,j,h;l=plugin_KeepAlive.config.path;n="";k=plugin_KeepAlive.config.method;o=plugin_KeepAlive.config.timeout;m=plugin_WebServiceClient.functions.getServer(plugin_KeepAlive.config.server,false);j=m+"/"+l;h=0;switch(plugin_KeepAlive.config.type){case"json":plugin_KeepAlive.startTime=Date.now();plugin_KeepAlive.ajax(j,n,"json",k,o);break;case"xml":alert("still not implemented");break;case"text":alert("still not implemented");break;case"html":alert("still not implemented");break;default:alert("keepAliveRequest: no such type: "+plugin_KeepAlive.config.type)}},functions:{isAlive:function(){return plugin_KeepAlive.config.isAlive},badConnectionHandler:function(){app.help.navigation.redirect(app.config.badConnectionPage,"slideup")}}};var config_KeepAlive={name:"KeepAlive",shortname:"alive",dependencies:["WebServiceClient"],useKeepAlive:true,server:"backmeup",intervalInS:14,path:"keepAlive.json",method:"get",type:"json",timeout:"12000",lastDuration:null,isAlive:true,maximumResponseTime:13000,error:{text:"",code:0}};var plugin_KeyValueStack={config:null,constructor:function(){var b=$.Deferred();b.resolve();return b.promise()},pluginsLoaded:function(){app.debug.alert(this.config.name+".pluginsLoaded()",11);var b=$.Deferred();b.resolve();return b.promise()},pagesLoaded:function(){app.debug.alert("plugin_"+this.config.name+".pagesLoaded()",11);var b=$.Deferred();b.resolve();return b.promise()},definePluginEvents:function(){},afterHtmlInjectedBeforePageComputing:function(b){app.debug.alert("Plugin: "+this.config.name+".afterHtmlInjectedBeforePageComputing()",5)},pageSpecificEvents:function(b){app.debug.alert("Plugin: "+this.config.name+".pageSpecificEvents()",5)},functions:{}};var config_KeyValueStack={name:"KeyValueStack",shortname:"pStack"};var config_LicenceServer={name:"LicenceServer",shortname:"ls"};var plugin_LoadExternalScripts={config:null,loadedScripts:{},constructor:function(){var b=$.Deferred();b.resolve();return b.promise()},pluginsLoaded:function(){app.debug.alert(this.config.name+".pluginsLoaded()",11);var e=$.Deferred(),d=Array(),f;app.debug.debug("plugin_LoadExternalScripts.pluginsLoaded() - case: load ordered styles");console.log("TODO - script loading");app.debug.debug("plugin_LoadExternalScripts.pluginsLoaded() - case: load unordered styles");$.each(plugin_LoadExternalScripts.config.scripts.css,function(b,a){if(a){if(b in plugin_LoadExternalScripts.loadedScripts){}else{d.push(globalLoader.AsyncStyleLoader(b));plugin_LoadExternalScripts.loadedScripts[b]=true}}});app.debug.debug("plugin_LoadExternalScripts.pluginsLoaded() - case: load ordered scripts");if(plugin_LoadExternalScripts.config.scripts.javascriptOrdered){d.push(plugin_LoadExternalScripts.loadScriptsAsync(plugin_LoadExternalScripts.config.scripts.javascriptOrdered.slice()))}app.debug.debug("plugin_LoadExternalScripts.pluginsLoaded() - case: load unordered scripts");if(plugin_LoadExternalScripts.config.scripts.javascript){$.each(plugin_LoadExternalScripts.config.scripts.javascript,function(b,a){if(a){d.push(globalLoader.AsyncScriptLoader(b));plugin_LoadExternalScripts.loadedScripts[b]=true}})}f=$.when.apply($,d);f.done(function(){e.resolve()});f.fail(function(){e.reject()});return e.promise()},pagesLoaded:function(){app.debug.alert("plugin_"+this.config.name+".pagesLoaded()",11);var b=$.Deferred();b.resolve();return b.promise()},definePluginEvents:function(){},afterHtmlInjectedBeforePageComputing:function(b){app.debug.alert("Plugin: "+this.config.name+".afterHtmlInjectedBeforePageComputing()",5)},pageSpecificEvents:function(){app.debug.alert("Plugin: "+this.config.name+".pageSpecificEvents()",5)},loadScriptsAsync:function(h){app.debug.trace("plugin_LoadExternalScripts.loadSingleScriptAsync()");var f=$.Deferred(),e,g;e=h.pop();app.debug.debug("plugin_LoadExternalScripts.loadSingleScriptAsync() - LOAD url: "+e);globalLoader.AsyncScriptLoader(e).done(function(){plugin_LoadExternalScripts.loadedScripts[e]=true;app.debug.debug("plugin_LoadExternalScripts.loadSingleScriptAsync() - DONE url: "+e);if(h.length){app.debug.debug("plugin_LoadExternalScripts.loadSingleScriptAsync() - case: script array not empty; call again");g=plugin_LoadExternalScripts.loadScriptsAsync(h);g.done(function(){f.resolve()});g.fail(function(){f.reject()})}else{app.debug.debug("plugin_LoadExternalScripts.loadSingleScriptAsync() - case: script array empty; resolve");f.resolve()}}).fail(function(){app.debug.debug("plugin_LoadExternalScripts.loadSingleScriptAsync() - FAIL url: "+e);f.reject()});return f.promise()},functions:{css:function(d){app.debug.trace("plugin_LoadExternalScripts.functions.css()");var c;if(d in plugin_LoadExternalScripts.loadedScripts){app.debug.debug("plugin_LoadExternalScripts.functions.css() - css already loaded: "+d);return $.Deferred().resolve()}else{app.debug.debug("plugin_LoadExternalScripts.functions.css() - load css: "+d);c=globalLoader.AsyncStyleLoader(d);c.done(function(){app.debug.debug("plugin_LoadExternalScripts.functions.css() - css loading done: "+d);app.debug.debug("plugin_LoadExternalScripts.functions.css() - add url to loadedScripts array");plugin_LoadExternalScripts.loadedScripts[d]=true});return c}},javascript:function(b){app.debug.trace("plugin_LoadExternalScripts.functions.javascript()");if(b in plugin_LoadExternalScripts.loadedScripts){}else{globalLoader.AsyncScriptLoader(b);plugin_LoadExternalScripts.loadedScripts[b]=true}}}};var config_LoadExternalScripts={name:"LoadExternalScripts",shortname:"load",scripts:{css:{"../ext/jQueryMobile/jquery.mobile.min.css":true,"../css/fonts.css":true,"../css/global.css":true,"../css/platform.android.css":true,"../css/platform.desktop.css":true,"../css/platform.ios.css":true,"../css/platform.mobile.css":true,"../css/platform.cordova.css":true,"../css/timelinesearch.css":true,"../ext/leaflet/leaflet.css":true,"../ext/spatiotemporal/spatiotemporal-search.no-deps.css":true,"../template/app.responsive.grid.33.33.33.css":"true","../template/app.responsive.grid.25.75.css":"true","../template/app.responsive.grid.75.25.css":"true"},javascript:{"../ext/MD5.js":true,"../ext/DATE.js":true,"../ext/aerogear.min.js":false,"../ext/jquery.serializejson.min.js":true,"../ext/moment/moment.js":true,"../ext/leaflet/leaflet.js":true,"../ext/spatiotemporal/spatiotemporal-search.no-deps.min.js":true}}};var plugin_MultilanguageIso639_3={config:null,dictionary:null,parameter:null,constructor:function(){var b=$.Deferred();b.resolve();return b.promise()},pluginsLoaded:function(){app.debug.alert(this.config.name+".pluginsLoaded()",11);var b;b=globalLoader.AsyncJsonLoader("../files/language/"+plugin_MultilanguageIso639_3.config.defaultLanguage+".json").done(function(a){plugin_MultilanguageIso639_3.dictionary=a});return b},pagesLoaded:function(){app.debug.alert("plugin_"+this.config.name+".pagesLoaded()",11);var b=$.Deferred();b.resolve();return b.promise()},definePluginEvents:function(){},afterHtmlInjectedBeforePageComputing:function(b){app.debug.alert("Plugin: "+this.config.name+".afterHtmlInjectedBeforePageComputing()",5)},pageSpecificEvents:function(b){app.debug.alert("Plugin: "+this.config.name+".pageSpecificEvents()",5)},loadLanguageIntoDict:function(c){var d="../files/language/"+c+".json";$.ajax({dataType:"json",url:d,async:false,success:function(a){app.debug.alert("Langugae successfully loaded: "+c,3);plugin_MultilanguageIso639_3.dictionary=a},error:function(f,a,b){alert("Fatal error: Can't load language: "+d+" Error: "+a)}})},functions:{get:function(){return plugin_MultilanguageIso639_3.config.defaultLanguage},getAvailableLanguages:function(){return plugin_MultilanguageIso639_3.config.availableLanguages},getCurrentLanguage:function(){return plugin_MultilanguageIso639_3.config.defaultLanguage},languageAvailable:function(b){if(this.getAvailableLanguages().indexOf(b)!=-1){return true}else{return false}},changeLanguage:function(b){if(this.languageAvailable(b)){app.info.set("plugin_MultilanguageIso639_3.config.defaultLanguage",b);return true}else{return false}},addParameter:function(d,c){if(!plugin_MultilanguageIso639_3.parameter){plugin_MultilanguageIso639_3.parameter={};if(plugin_HTML5Storage!=undefined){app.store.localStorage.getList("language-")}}plugin_MultilanguageIso639_3.parameter[d]=c;if(plugin_HTML5Storage!=undefined){app.store.localStorage.set("language-"+d,c)}},string:function(h,k,f){var j=null,g;if(!plugin_MultilanguageIso639_3.dictionary){plugin_MultilanguageIso639_3.loadLanguageIntoDict(plugin_MultilanguageIso639_3.config.defaultLanguage)}if(k==undefined){j=plugin_MultilanguageIso639_3.dictionary[h]}else{if(plugin_MultilanguageIso639_3.dictionary[k]==undefined){g='{"'+k+'" : {}}';app.debug.feedback.language(JSON.parse(g));j=h}else{j=plugin_MultilanguageIso639_3.dictionary[k][h]}}if(j!=undefined){if(plugin_MultilanguageIso639_3.parameter!=null){$.each(plugin_MultilanguageIso639_3.parameter,function(b,a){j=j.replace("%"+b+"%",a)})}if(f!=undefined){$.each(f,function(b,a){j=j.replace("%"+b+"%",a)})}return j}else{g='{"'+k+'" : {"'+h+'" : "TRANSLATION"}}';app.debug.feedback.language(JSON.parse(g));return h}},list:function(c){var d="";if(!plugin_MultilanguageIso639_3.dictionary){plugin_MultilanguageIso639_3.loadLanguageIntoDict(plugin_MultilanguageIso639_3.config.defaultLanguage)}$.each(plugin_MultilanguageIso639_3.dictionary,function(b,a){if(typeof a=="object"){$.each(a,function(h,g){d+=g+"\n"})}else{d+=a+"\n"}});return d},set:function(b){plugin_MultilanguageIso639_3.loadLanguageIntoDict(b);app.info.set("plugin_MultilanguageIso639_3.config.defaultLanguage",b)}}};var config_MultilanguageIso639_3={name:"MultilanguageIso639_3",shortname:"lang",defaultLanguage:"deu",availableLanguages:["deu","eng"]};var plugin_Navigation={config:null,history:[],lastTransition:"none",constructor:function(){var b=$.Deferred();b.resolve();return b.promise()},pluginsLoaded:function(){app.debug.alert(this.config.name+".pluginsLoaded()",11);var b=$.Deferred();b.resolve();return b.promise()},pagesLoaded:function(){app.debug.alert("plugin_"+this.config.name+".pagesLoaded()",11);var b=$.Deferred();b.resolve();return b.promise()},definePluginEvents:function(){app.debug.alert("plugin_"+this.config.name+".definePluginEvents()",11);$("body").on("pagecontainerbeforetransition",function(d,c){if(plugin_Navigation.history.length>0){if(plugin_Navigation.history[plugin_Navigation.history.length-1].page!=c.toPage.attr("id")){plugin_Navigation.history.push({page:c.toPage.attr("id"),transition:c.options.transition})}}else{plugin_Navigation.history.push({page:c.toPage.attr("id"),transition:c.options.transition})}})},afterHtmlInjectedBeforePageComputing:function(b){app.debug.alert("plugin_"+this.config.name+".afterHtmlInjectedBeforePageComputing()",11)},pageSpecificEvents:function(b){app.debug.alert("plugin_"+this.config.name+".pageSpecificEvents()",11)},functions:{redirect:function(d,f,e){app.debug.trace("plugin_Navigation.functions.redirect()");setTimeout(function(){if(f!=undefined){$("body").pagecontainer("change",d,{transition:f,reverse:(e==undefined)?false:e})}else{$(location).attr("href",d)}},50)},back:function(f){app.debug.trace("plugin_Navigation.functions.back()");var d,e;if(plugin_Navigation.history.length>1){app.debug.debug("plugin_Navigation.functions.back() - application has history");e=plugin_Navigation.history.pop();app.debug.debug("plugin_Navigation.functions.back() - current page: "+JSON.stringify(e));d=plugin_Navigation.history[plugin_Navigation.history.length-1];app.debug.debug("plugin_Navigation.functions.back() - last page: "+JSON.stringify(d));this.redirect(d.page+".html",e.transition,true)}},forward:function(){app.debug.trace("plugin_Navigation.functions.forward()");window.history.forward()},reload:function(){app.debug.trace("plugin_Navigation.functions.reload()")},refresh:function(){app.debug.trace("plugin_Navigation.functions.refresh()");$("div[data-role=page]").remove();jQuery.mobile.changePage(window.location.href,{allowSamePageTransition:true,transition:"none",reloadPage:true})},redirectAndReload:function(b){app.debug.trace("plugin_Navigation.functions.redirectAndReload()");$.mobile.ajaxEnabled=false;window.location.replace(b)},normalizeUrl:function(b){app.debug.trace("plugin_Navigation.functions.normalizeUrl()");b=URI(b);if(b.protocol()===""){b.protocol("http")}return b.toString()}}};var config_Navigation={name:"Navigation",shortname:"nav"};var plugin_Notification={config:null,notifications:null,callbackFunction:null,callbackFunctionBtnLeft:null,callbackFunctionBtnRight:null,constructor:function(){var b=$.Deferred();b.resolve();return b.promise()},pluginsLoaded:function(){app.debug.alert(this.config.name+".pluginsLoaded()",11);var b=$.Deferred();b.resolve();return b.promise()},pagesLoaded:function(){app.debug.alert("plugin_"+this.config.name+".pagesLoaded()",11);var b=$.Deferred();window.setTimeout(function(){if(plugin_Notification.config.enablePushNotifications&&app.config.apacheCordova&&app.sess.loggedIn()==true){app.debug.alert("plugin_Notification.pagesLoaded() register device on licence and push server",20);if(window.device){var a=app.rc.getJson("notifyme.registerDevice",{deviceId:device.uuid,contextToken:app.sess.getValue("userToken")},true);a.done(function(d){if(window.push!=undefined){app.debug.alert("plugin_Notification.pagesLoaded() register device on aerogear push server",20);plugin_Notification.config.pushConfig.alias=device.uuid;push.register(plugin_Notification.functions.push_onNotification,function(){app.debug.alert("plugin_Notification.pagesLoaded() success: device is registered on push server",20)},function(c){app.debug.alert("plugin_Notification.pagesLoaded() error: device is not registered on push server",20);app.debug.alert("plugin_Notification.pagesLoaded() error: "+c,20)},plugin_Notification.config.pushConfig)}else{app.debug.alert("plugin_Notification.pagesLoaded() cordova push plugin not installed",20)}});a.fail(function(d){app.debug.alert("plugin_Notification.pagesLoaded() not able to register device on licence server",20)})}else{app.debug.alert("plugin_Notification.pagesLoaded() cordova device plugin not installed",20)}}else{app.debug.alert("plugin_Notification.pagesLoaded() do not register device on licence and push server",20)}},5000);b.resolve();return b.promise()},definePluginEvents:function(){app.debug.alert("plugin_"+this.config.name+".definePluginEvents()",11);$(document).on("pageshow",function(b){if(!plugin_Notification.notifications){plugin_Notification.notifications=app.store.localStorage.getObject("popup_notifications")}app.store.localStorage.removeObject("popup_notifications");plugin_Notification.popupShow()});$(document).on("click","#btn-alert",function(){$("#popupAlert").one("popupafterclose",function(d,c){if(plugin_Notification.callbackFunction){plugin_Notification.callbackFunction($("#popupAlert"));plugin_Notification.callbackFunction=null}plugin_Notification.cleanupPopup($("#popupAlert"));plugin_Notification.popupShow()});$("#popupAlert").popup("close")});$(document).on("click","#btn-dialog-left",function(){$("#popupDialog").one("popupafterclose",function(d,c){if(plugin_Notification.callbackFunctionBtnLeft){plugin_Notification.callbackFunctionBtnLeft($("#popupDialog"));plugin_Notification.callbackFunctionBtnLeft=null}plugin_Notification.cleanupPopup($("#popupDialog"));plugin_Notification.popupShow()});$("#popupDialog").popup("close")});$(document).on("click","#btn-dialog-right",function(){$("#popupDialog").one("popupafterclose",function(d,c){if(plugin_Notification.callbackFunctionBtnRight){plugin_Notification.callbackFunctionBtnRight($("#popupDialog"));plugin_Notification.callbackFunctionBtnRight=null}plugin_Notification.cleanupPopup($("#popupDialog"));plugin_Notification.popupShow()});$("#popupDialog").popup("close")});$(document).on("popupbeforeposition","div[data-role=popup]",function(d,c){$(this).popup().trigger("create")})},afterHtmlInjectedBeforePageComputing:function(b){app.debug.alert("plugin_"+this.config.name+".afterHtmlInjectedBeforePageComputing()",11);$("body #popupDialog").remove();$("body #popupAlert").remove();app.template.append("#"+$(b).attr("id"),"JQueryMobilePopupDialog");app.template.append("#"+$(b).attr("id"),"JQueryMobilePopupAlert")},pageSpecificEvents:function(b){app.debug.alert("plugin_"+this.config.name+".pageSpecificEvents()",11)},cleanupPopup:function(b){b.find("div[role=main].ui-content").find(":nth-child(2)").replaceWith("<p></p>")},popupShow:function(c,d){if(d==undefined||d==null){d=300}if(c!=undefined){switch(c.type){case"alert":setTimeout(function(){plugin_Notification.cleanupPopup($("#popupAlert"));if(c.title){$("#popupAlert div[data-role=header] h1").text(c.title);$("#popupAlert div[data-role=header] h1").css("display","block")}else{$("#popupAlert div[data-role=header] h1").css("display","none")}if(c.headline){$("#popupAlert div.ui-content h3.ui-title").text(c.headline);$("#popupAlert div.ui-content h3.ui-title").css("display","block")}else{$("#popupAlert div.ui-content h3.ui-title").css("display","none")}$("#popupAlert #btn-alert").text(c.button);if(typeof c.text=="object"){$("#popupAlert div.ui-content p").replaceWith(c.text)}else{$("#popupAlert div.ui-content p").html(c.text)}$("#popupAlert").popup("open")},d);plugin_Notification.callbackFunction=c.callback;break;case"dialog":setTimeout(function(){plugin_Notification.cleanupPopup($("#popupDialog"));if(c.title){$("#popupDialog div[data-role=header] h1").text(c.title);$("#popupDialog div[data-role=header] h1").css("display","block")}else{$("#popupDialog div[data-role=header] h1").css("display","none")}if(c.headline){$("#popupDialog div.ui-content h3.ui-title").text(c.headline);$("#popupDialog div.ui-content h3.ui-title").css("display","block")}else{$("#popupDialog div.ui-content h3.ui-title").css("display","none")}$("#popupDialog #btn-dialog-left").text(c.buttonLeft);$("#popupDialog #btn-dialog-right").text(c.buttonRight);if(typeof c.text=="object"){$("#popupDialog div.ui-content p").replaceWith(c.text)}else{$("#popupDialog div.ui-content p").html(c.text)}$("#popupDialog").popup("open")},d);plugin_Notification.callbackFunctionBtnLeft=c.callbackButtonLeft;plugin_Notification.callbackFunctionBtnRight=c.callbackButtonRight;break;default:alert("error in popupShow();");break}}else{if(plugin_Notification.notifications!=null){if(Object.keys(plugin_Notification.notifications).length==0){plugin_Notification.notifications=null}else{c=plugin_Notification.notifications["1"];delete plugin_Notification.notifications["1"];setTimeout(function(){if(c.title){$("#popupAlert div[data-role=header] h1").text(c.title);$("#popupAlert div[data-role=header] h1").css("display","block")}else{$("#popupAlert div[data-role=header] h1").css("display","none")}if(c.headline){$("#popupAlert div.ui-content h3.ui-title").text(c.headline);$("#popupAlert div.ui-content h3.ui-title").css("display","block")}else{$("#popupAlert div.ui-content h3.ui-title").css("display","none")}$("#popupAlert #btn-alert").text(c.button);if(typeof c.text=="object"){$("#popupAlert div.ui-content p").replaceWith(c.text)}else{$("#popupAlert div.ui-content p").html(c.text)}$("#popupAlert").popup("open")},d)}}}},functions:{push_successHandler:function(){console.log("succesfull registered")},push_errorHandler:function(b){console.error("error registering "+b)},push_onNotification:function(b){alert(b.alert)},alert:function(l,m,o,h,n,k){var j=l;if($.isPlainObject(l)){k=j.delayInMs;n=j.callbackButton;h=j.button;o=j.headline;m=j.title;l=j.text}plugin_Notification.functions.close.all().done(function(){if(l==undefined){l=false}if(o==undefined){o=false}if(m==undefined){m=false}if(h==undefined){h=false}if(n==undefined){n=false}if(k==undefined||k==null){k=100}notification={type:"alert",text:l,title:m,headline:o,button:h,callback:n};plugin_Notification.popupShow(notification,k)})},dialog:function(l,m,q,r,n,j,o,k){var p=l;if($.isPlainObject(l)){k=p.delayInMs;o=p.callbackButtonRight;j=p.callbackButtonLeft;n=p.buttonRight;r=p.buttonLeft;q=p.headline;m=p.title;l=p.text}plugin_Notification.functions.close.all().done(function(){if(l==undefined||l==null){l=false}if(q==undefined||q==null){q=false}if(m==undefined||m==null){m=false}if(r==undefined||r==null){r=false}if(n==undefined||n==null){n=false}if(j==undefined||j==null){j=false}if(o==undefined||o==null){o=false}if(k==undefined||k==null){k=100}notification={type:"dialog",text:l,title:m,headline:q,buttonLeft:r,buttonRight:n,callbackButtonLeft:j,callbackButtonRight:o};plugin_Notification.popupShow(notification,k)})},close:{alert:function(){var b=$.Deferred();if($("#popupAlert").parent().hasClass("ui-popup-active")){$("#popupAlert").on("popupafterclose",function(a,d){$("#popupAlert").off("popupafterclose");b.resolve()});$("#popupAlert").popup("close");plugin_Notification.cleanupPopup($("#popupAlert"))}else{b.resolve()}return b.promise()},dialog:function(){var b=$.Deferred();if($("#popupDialog").parent().hasClass("ui-popup-active")){$("#popupDialog").on("popupafterclose",function(a,d){$("#popupDialog").off("popupafterclose");b.resolve()});$("#popupDialog").popup("close");plugin_Notification.cleanupPopup($("#popupDialog"))}else{b.resolve()}return b.promise()},all:function(){var b=$.Deferred();$.when(app.notify.close.alert(),app.notify.close.dialog()).done(function(){b.resolve()});return b.promise()}},add:{alert:function(l,m,o,h,n,k){if(l==undefined){l=false}if(o==undefined){o=false}if(m==undefined){m=false}if(h==undefined){h=false}if(n==undefined){n=false}if(!plugin_Notification.notifications){plugin_Notification.notifications=app.store.localStorage.getObject("popup_notifications")}if(!plugin_Notification.notifications){plugin_Notification.notifications={}}if(k==undefined||k==null){k=100}var j=Object.keys(plugin_Notification.notifications).length+1;plugin_Notification.notifications[j]={type:"alert",text:l,title:m,headline:o,button:h,callback:n};app.store.localStorage.setObject("popup_notifications",plugin_Notification.notifications)}},push_onNotification:function(){},loader:{bubble:function(b){if(b){app.template.append("div[data-role=content]","app-loader-bubble")}else{plugin_Notification.functions.loader.remove()}},bubbleDiv:function(g,j,k,l){var m,h;m=g;if($.isPlainObject(g)){l=m.appendTo;k=m.headline;j=m.text;g=m.show}if(g){h=app.template.get("app-loader-bubbleDiv");if(j!=undefined){h.find("p").text(j)}if(k!=undefined){h.find("h1").text(k)}if(l){l.append(h)}else{$("div[data-role=content]").append(h)}}else{plugin_Notification.functions.loader.remove()}},remove:function(){$(".app-loader").remove()}}}};var config_Notification={name:"Notification",shortname:"notify",enablePushNotifications:false};var plugin_OAuth={config:null,constructor:function(){var b=$.Deferred();b.resolve();return b.promise()},pluginsLoaded:function(){app.debug.alert(this.config.name+".pluginsLoaded()",11);var b=$.Deferred();b.resolve();return b.promise()},pagesLoaded:function(){app.debug.alert("plugin_"+this.config.name+".pagesLoaded()",11);var b=$.Deferred();b.resolve();return b.promise()},definePluginEvents:function(){app.debug.alert("plugin_"+this.config.name+".definePluginEvents()",11)},afterHtmlInjectedBeforePageComputing:function(b){app.debug.alert("plugin_"+this.config.name+".afterHtmlInjectedBeforePageComputing()",11)},pageSpecificEvents:function(b){app.debug.alert("plugin_"+this.config.name+".pageSpecificEvents()",11)},desktopOAuth:function(b){if(app.config.apacheCordova==null||app.config.apacheCordova==false){app.help.navigation.redirect(b);return true}return false},functions:{tokenFromUrl:function(h){var f=window.location.href,k,g,j;k=""+h+"=(.+)$";g=new RegExp(k);j=g.exec(f);if(j){j=(j[0]+"").split("=");j=j[1]+"";j=j.split("&");j=j[0]}else{return false}return j},getQueryString:function(){try{return window.location.href.split("?")[1]}catch(b){return""}},generic:function(c){if(c.indexOf("dropbox")>-1){return app.oa.dropbox(c)}else{if(c.indexOf("facebook")>-1){return app.oa.facebook(c)}else{var d=$.Deferred();window.setTimeout(function(){d.resolve("Unkonwn URL: "+c)},1000);return d.promise()}}},dropbox:function(e){if(plugin_OAuth.desktopOAuth(e)){return}else{var f=$.Deferred(),h=window.open(e,"_blank","location=yes"),g=0;$(h).on("loadstart",function(b){g++;if(g>2){var c,d,a;c=b.originalEvent.url;d=/\?error=(.+)$/.exec(c);a=/\?oauth_token=(.+)$/.exec(c);if(a){h.close();f.resolve(c.split("?")[1])}else{if(d){h.close();f.reject(d)}}}});return f.promise()}},facebook:function(e){if(plugin_OAuth.desktopOAuth(e)){return}else{var f=$.Deferred(),h=window.open(e,"_blank","location=yes"),g=0;$(h).on("loadstart",function(b){g++;if(g>2){var c,d,a;c=b.originalEvent.url;d=/\?error_code=(.+)$/.exec(c);a=/\?code=(.+)$/.exec(c);if(a){h.close();f.resolve(c.split("?")[1])}else{if(d){h.close();f.reject(d)}}}});return f.promise()}},facebookToken:function(h,g,f,e){$.post("https://accounts.google.com/o/oauth2/token",{code:h,client_id:g,client_secret:f,redirect_uri:e,grant_type:"authorization_code"}).done(function(a){}).fail(function(a){})}}};var config_OAuth={name:"OAuth",shortname:"oa",facebook:{error_name:"error_code",token_name:"code"},dropbox:{error_name:"error",token_name:"oauth_token"}};var plugin_RestClient={config:null,constructor:function(){var b=$.Deferred();b.resolve();return b.promise()},pluginsLoaded:function(){app.debug.trace("plugin_RestClient.pluginsLoaded()");var e=$.Deferred(),d=Array(),f;$.each(plugin_RestClient.config.wsdFiles,function(a,b){if(b){d.push(plugin_RestClient.loadDefinitionFileAsync(a))}});f=$.when.apply($,d);f.done(function(){e.resolve()});f.fail(function(){e.reject()});return e.promise()},pagesLoaded:function(){app.debug.trace("plugin_RestClient.pagesLoaded()");app.debug.debug("plugin_"+this.config.name+".pagesLoaded()",11);var b=$.Deferred();b.resolve();return b.promise()},definePluginEvents:function(){},afterHtmlInjectedBeforePageComputing:function(b){app.debug.trace("plugin_RestClient.afterHtmlInjectedBeforePageComputing()")},pageSpecificEvents:function(b){app.debug.trace("plugin_RestClient.pageSpecificEvents()")},loadDefinitionFileAsync:function(d){app.debug.trace("plugin_RestClient.loadDefinitionFile()");var e=$.Deferred(),f;f=globalLoader.AsyncJsonLoader(d);f.done(function(a){$.each(a,function(b,c){app.debug.debug("plugin_RestClient.loadDefinitionFile() - add: "+b);plugin_RestClient.config.webservices[b]=c});e.resolve()});f.done(function(){e.reject()});return e.promise()},loadDefinitionFile:function(c){app.debug.trace("plugin_RestClient.loadDefinitionFile()");var d=globalLoader.JsonLoader(c);app.debug.debug("plugin_RestClient.loadDefinitionFile() - add each webservice definition");$.each(d,function(a,b){app.debug.debug("plugin_RestClient.loadDefinitionFile() - add: "+a);plugin_RestClient.config.webservices[a]=b})},getPath:function(f,d){app.debug.trace("plugin_RestClient.getPath()");app.debug.debug("plugin_RestClient.getPath() - parameter: "+JSON.stringify(f));var e=d.split("?")[1];d=d.split("?")[0];if(f!=undefined){$.each(f,function(b,a){if(typeof a=="object"){a=JSON.stringify(a);d=d.replace("{"+b+"}",encodeURIComponent(a))}else{d=d.replace("{"+b+"}",encodeURIComponent(a))}app.debug.debug("plugin_RestClient.getPath() - set in path: "+b+" = "+encodeURIComponent(a))})}if(e==undefined){e=""}app.debug.debug("plugin_RestClient.getPath() - path: "+d);app.debug.debug("plugin_RestClient.getPath() - data: "+e);app.debug.debug("plugin_RestClient.getPath() - parameter: "+JSON.stringify(f));return[d,e]},getSingleJson:function(k,l,p){app.debug.debug("plugin_RestClient.getSingleJson() - get a single json object; async = false");app.debug.info("plugin_RestClient - CALL: "+k);var n,o,j,m,q;app.debug.debug("plugin_RestClient.getSingleJson() - get server name");if(k.indexOf(".")!=-1){m=k.split(".");n=m[0];k=m[1]}else{n=app.wsc.getDefaultServerName()}q=plugin_RestClient.config.webservices[k];if(q){o=q.url}else{app.debug.error("plugin_RestClient.getSingleJson() - service not defined: "+k);return null}p=false;o=plugin_RestClient.getPath(l,o);j=app.wsc.getJson(o[0],o[1],l,plugin_RestClient.config.webservices[k].method,plugin_RestClient.config.webservices[k].timeout,p,plugin_RestClient.config.webservices[k].local,n);if(plugins.functions.pluginLoaded("MultilanguageIso639_3")){if(j.language!=undefined){$.each(j.language,function(b,a){app.lang.addParameter(b,a)})}}return j},getSingleJsonAsync:function(n,m,p){app.debug.debug("plugin_RestClient.getSingleJsonAsync() - get a single json object; async = true;");app.debug.info("plugin_RestClient - CALL: "+n);var l=$.Deferred(),q,j,k,r,o;app.debug.debug("plugin_RestClient.getSingleJsonAsync() - get server name");if(n.indexOf(".")!=-1){r=n.split(".");q=r[0];n=r[1]}else{q=app.wsc.getDefaultServerName()}app.debug.debug("plugin_RestClient.getSingleJsonAsync() server: "+q+"; service: "+n);o=plugin_RestClient.config.webservices[n];if(o){j=o.url}else{app.debug.error("plugin_RestClient.getSingleJsonAsync() - service not defined: "+n);return l.reject()}j=plugin_RestClient.getPath(m,j);k=app.wsc.getJson(j[0],j[1],m,plugin_RestClient.config.webservices[n].method,plugin_RestClient.config.webservices[n].timeout,p,plugin_RestClient.config.webservices[n].local,q);k.done(function(a){if(plugins.functions.pluginLoaded("MultilanguageIso639_3")){if(a.language!=undefined){$.each(a.language,function(c,b){app.lang.addParameter(c,b)})}}app.debug.debug("plugin_RestClient.getSingleJsonAsync()- Webservice call done: "+JSON.stringify(a));l.resolve(a)});k.fail(function(a){app.debug.debug("plugin_RestClient.getSingleJsonAsync() - Webservice call failed: "+JSON.stringify(a));app.debug.info("plugin_RestClient - FAILED: "+a.id);l.reject(a)});return l.promise()},getMultipleJson:function(f,g,h){app.debug.debug("plugin_RestClient.getMultipleJson() - get multible json objects; async = false");var e={};app.debug.debug("plugin_RestClient.getMultipleJson() - generate ajax call for each webservice");$.each(f,function(d,a){var o=a[0],n=a[1],q,b,c,r,p;app.debug.info("plugin_RestClient - CALL: "+o);app.debug.debug("plugin_RestClient.getMultipleJson() - get server name");if(o.indexOf(".")!=-1){r=o.split(".");q=r[0];o=r[1]}else{q=app.wsc.getDefaultServerName()}h=false;app.debug.debug("plugin_RestClient.getMultipleJson() - get webservice path from wsd file");p=plugin_RestClient.config.webservices[o];if(p){b=p.url}else{app.debug.error("plugin_RestClient.getMultipleJson() - service not defined: "+o);return null}app.debug.debug("plugin_RestClient.getMultipleJson() - replace parameters in path");b=plugin_RestClient.getPath(n,b);app.debug.debug("plugin_RestClient.getMultipleJson() -  ask for the json file");c=app.wsc.getJson(b[0],b[1],n,plugin_RestClient.config.webservices[o].method,plugin_RestClient.config.webservices[o].timeout,h,plugin_RestClient.config.webservices[o].local,q);app.debug.debug("plugin_RestClient.getMultipleJson() - add language wildcards wich could be defined in webservice response");if(plugins.functions.pluginLoaded("MultilanguageIso639_3")){if(c.language!=undefined){$.each(c.language,function(k,j){app.lang.addParameter(k,j)})}}app.debug.debug("plugin_RestClient.getMultipleJson() - add result to resultObject");e[o]=c});return e},getMultipleJsonAsync:function(o,k,m){app.debug.debug("plugin_RestClient.getMultipleJsonAsync() - get multible json objects; async = true");m=true;var h=$.Deferred(),n=[],j=[],l;app.debug.debug("plugin_RestClient.getMultipleJsonAsync() - generate a ajax call for each webservice");$.each(o,function(f,c){app.debug.debug("plugin_RestClient.getMultipleJsonAsync() - generate single async ajax call");var d=c[0],g=c[1],a,b,p,e;app.debug.info("plugin_RestClient - CALL: "+d);app.debug.debug("plugin_RestClient.getMultipleJsonAsync() - get server name");if(d.indexOf(".")!=-1){l=d.split(".");a=l[0];d=l[1]}else{a=app.wsc.getDefaultServerName()}app.debug.debug("plugin_RestClient.getMultipleJsonAsync() - get webservice path from wsd file");e=plugin_RestClient.config.webservices[d];if(e){b=e.url}else{app.debug.error("plugin_RestClient.getMultipleJsonAsync() - service not defined: "+d);return h.reject()}app.debug.debug("plugin_RestClient.getMultipleJsonAsync() - replace parameters in path");b=plugin_RestClient.getPath(g,b);app.debug.debug("plugin_RestClient.getMultipleJsonAsync() - ask for the deferred promise object");p=app.wsc.getJson(b[0],b[1],g,plugin_RestClient.config.webservices[d].method,plugin_RestClient.config.webservices[d].timeout,m,plugin_RestClient.config.webservices[d].local,a);n.push(p);j.push(d)});$.when.apply($,n).then(function(){app.debug.debug("plugin_RestClient.getMultipleJsonAsync() - all async webservices are done");var b=[].slice.apply(arguments),a={};app.debug.debug("plugin_RestClient.getMultipleJsonAsync() - add each result to resultObject");$.each(j,function(d,c){if(plugins.functions.pluginLoaded("MultilanguageIso639_3")){if(b[d].language!=undefined){$.each(b[d].language,function(f,e){app.lang.addParameter(f,e)})}}a[c]=b[d]});app.debug.debug("plugin_RestClient.getMultipleJsonAsync() - async webservice call done: "+JSON.stringify(a));app.debug.debug("plugin_RestClient.getMultipleJsonAsync() - resolve deferred object");h.resolve(a)},function(a){app.debug.debug("plugin_RestClient.getMultipleJsonAsync() - error on or or more async webservices");app.debug.debug("plugin_RestClient.getMultipleJsonAsync() - async webservice call failed: "+JSON.stringify(a));app.debug.debug("plugin_RestClient.getMultipleJsonAsync() - reject deferred object");app.debug.info("plugin_RestClient - FAILED: "+a.id);h.reject(a)});app.debug.debug("plugin_RestClient.getMultipleJsonAsync() - return: deferred promise");return h.promise()},functions:{getWsd:function(b){app.debug.trace("plugin_RestClient.functions.getWsd()");return plugin_RestClient.config.webservices[b]||null},addWsd:function(n,o,k,l,j,h,m){app.debug.trace("plugin.RestClient.js plugin_RestClient.functions.addWebserviceDefinition()");if(typeof o=="object"){plugin_RestClient.config.webservices[n]=o}else{plugin_RestClient.config.webservices[n]={url:o,method:k,timeout:l,cacheable:j,cacheInMs:h,local:m}}return true},deleteWsd:function(b){delete plugin_RestClient.config.webservices[b];return true},addWebserviceDefinition:function(n,o,k,l,j,h,m){console.error("Depecated function!! use app.rc.addWsd(name, url, method, timeout, cacheable, cacheInMs, local)")},addWebserviceDefinitionFile:function(b){app.debug.debug("plugin_RestClient.functions.addWebserviceDefinitionFile("+b+")");plugin_RestClient.loadDefinitionFile(b)},cacheJson:function(f,h,k){app.debug.debug("plugin_RestClient.functions.cacheJson()");var j,g;g=app.rc.getWsd(f);if($.isPlainObject(k)){app.debug.debug("plugin_RestClient.functions.cacheJson() - store to local storage");j={servicename:f,parameter:h,cachetimestamp:Date.now(),data:JSON.stringify(k)};app.store.localStorage.setObject("_t_ws_"+f,j);return true}else{app.debug.debug("plugin_RestClient.functions.cacheJson() - restore from local storage");j=app.store.localStorage.getObject("_t_ws_"+f);if(JSON.stringify(h)!==JSON.stringify(j.parameter)){app.debug.debug("plugin_RestClient.functions.cacheJson() - case: parameter not equal");return false}else{if((j.cachetimestamp+g.cacheInMs)<Date.now()){app.debug.debug("plugin_RestClient.functions.cacheJson() - case: cash time timed out");return false}else{return JSON.parse(j.data)}}}return null},getJson:function(j,l,n,o,k){app.debug.debug("plugin_RestClient.functions.getJson("+j+", "+l+", "+n+")");var p,q,m;if(plugins.config.KeepAlive===true&&app.alive.isAlive()===true){app.debug.debug("plugin_RestClient.functions.getJson() - case: keepAlive && isAlive");if(typeof j=="object"){app.debug.debug("plugin_RestClient.functions.getJson() - case: get multible json objects");if(l==false||l==undefined){app.debug.debug("plugin_RestClient.functions.getJson() case: async = false");if(!n){n=1}for(q=0;q<n;q++){app.debug.debug("plugin_RestClient.functions.getJson() - AJAX attempt "+q+" of "+o);p=plugin_RestClient.getMultipleJson(j,l,n);if(p!=null){return p}}}else{if(typeof j=="object"&&l==true){app.debug.debug("plugin_RestClient.functions.getJson() - case: async = true");m=plugin_RestClient.getMultipleJsonAsync(j,l,n);if(k==null||k==undefined){k=$.Deferred()}m.done(function(a){k.resolve(a)});m.fail(function(a){app.debug.debug("plugin_RestClient.functions.getJson() - multible json object; case: webservice failed: "+JSON.stringify(a));if(n>1){n--;plugin_RestClient.functions.getJson(j,l,n,null,k)}else{app.debug.debug("plugin_RestClient.functions.getJson() - multiple json object; reject deferred object");k.reject(a)}});return k.promise()}}}else{if(typeof j=="string"){app.debug.debug("plugin_RestClient.functions.getJson() - case: get a single json object");if((l==undefined||typeof l=="object")&&(n==undefined||n==false)){app.debug.debug("plugin_RestClient.functions.getJson() - case: async = false");if(!o){o=1}for(q=0;q<o;q++){app.debug.debug("plugin_RestClient.functions.getJson() - AJAX attempt "+q+" of "+o);p=plugin_RestClient.getSingleJson(j,l,n);if(p!=null){return p}}}else{if((l==undefined||typeof l=="object")&&n==true){app.debug.debug("plugin_RestClient.functions.getJson() - case: async = true");m=plugin_RestClient.getSingleJsonAsync(j,l,n);if(k==null||k==undefined){k=$.Deferred()}m.done(function(a){k.resolve(a)});m.fail(function(a){app.debug.debug("plugin_RestClient.functions.getJson() - single json object; case: webservice failed: "+JSON.stringify(a));if(o>1){o--;plugin_RestClient.functions.getJson(j,l,n,o,k)}else{app.debug.debug("plugin_RestClient.functions.getJson() - single json object; reject deferred object");k.reject(a)}});return k.promise()}}}}}else{app.alive.badConnectionHandler()}return null}}};var config_RestClient={name:"RestClient",shortname:"rc",wsdFiles:{"../files/wsd/wsd.themis.authentication.json":true,"../files/wsd/wsd.themis.backupjobs.json":true,"../files/wsd/wsd.themis.logs.json":true,"../files/wsd/wsd.themis.plugins.json":true,"../files/wsd/wsd.themis.search.json":true,"../files/wsd/wsd.themis.sharing.json":true,"../files/wsd/wsd.themis.users.json":true,"../files/wsd/wsd.themis.collections.json":true},webservices:{template:{url:"string url",method:"string method",timeout:"int timeout"}}};var plugin_Session={config:null,constructor:function(){var b=$.Deferred();console.log("TODO - create session registry");b.resolve();return b.promise()},sessions:{},pluginsLoaded:function(){app.debug.trace(this.config.name+".pluginsLoaded()",11);var b=$.Deferred();b.resolve();return b.promise()},pagesLoaded:function(){app.debug.trace("plugin_"+this.config.name+".pagesLoaded()",11);var b=$.Deferred();b.resolve();return b.promise()},definePluginEvents:function(){app.debug.trace("plugin_"+this.config.name+".definePluginEvents()",11)},afterHtmlInjectedBeforePageComputing:function(b){app.debug.trace("plugin_"+this.config.name+".afterHtmlInjectedBeforePageComputing()",11)},pageSpecificEvents:function(b){app.debug.trace("plugin_"+this.config.name+".pageSpecificEvents()",11)},getPrefix:function(b){if(b==undefined){b=plugin_Session.config.sessionHTML5StoragePrefix}return b},functions:{loggedIn:function(d){app.debug.trace("plugin_Session.functions.loggedIn("+d+")");var c=this.getValue(plugin_Session.config.loginHtml5StorageKey);if(d==undefined){app.debug.debug("plugin_Session.functions.loggedIn("+d+") - case: value == undefined");app.debug.debug("plugin_Session.functions.loggedIn() - return: "+c);if(c===null||c===false){return false}else{return true}}else{if(typeof d=="boolean"){app.debug.debug("plugin_Session.functions.loggedIn("+d+") - case: typeof value == boolean");app.debug.debug("plugin_Session.functions.loggedIn() - set loged in to: "+d);this.setValue(plugin_Session.config.loginHtml5StorageKey,d);if(d==false){app.debug.trace("plugin_Session.functions.loggedIn() - case: value == false")}app.debug.trace("plugin_Session.functions.loggedIn() - return: "+d);return d}else{app.debug.trace("plugin_Session.functions.loggedIn() - return: null");return null}}},setValue:function(e,f,d){d=plugin_Session.getPrefix(d);app.debug.trace("plugin_Session.functions.setValue("+e+", "+f+")");app.store.localStorage.set(d+e,f);plugin_Session.sessions[d]=true},getValue:function(d,c){c=plugin_Session.getPrefix(c);app.debug.trace("plugin_Session.functions.getValue("+d+")");return app.store.localStorage.get(c+d)},destroy:function(b){b=plugin_Session.getPrefix(b);app.debug.trace("plugin_Session.functions.destroy()");$.each(window.localStorage,function(k,j){if(k.substring(0,app.config.name.length)==app.config.name){var a,g,h;a=k.substring(app.config.name.length+1);g=a.substring(0,b.length).toLowerCase();h=b.toLowerCase();if(g==h){window.localStorage.removeItem(k)}}});plugin_Session.sessions[b]=false},destroyAll:function(){$.each(plugin_Session.sessions,function(c,d){plugin_Session.functions.destroy(c)});console.log("TODO - implement")},setObject:function(d,e,f){f=plugin_Session.getPrefix(f);d=f+d;d=d.split(".").join("-");app.store.localStorage.setObject(f+d,e)},getObject:function(d,c){c=plugin_Session.getPrefix(c);d=c+d;d=d.split(".").join("-");return app.store.localStorage.getObject(c+d)}}};var config_Session={name:"Session",shortname:"sess",loginHtml5StorageKey:"loggedin",sessionHTML5StoragePrefix:"sessionPluginValue-"};var plugin_Skin={config:null,constructor:function(){var b=$.Deferred();b.resolve();return b.promise()},pluginsLoaded:function(){app.debug.trace("plugin_Skin.pluginsLoaded()");var e=$.Deferred(),d=Array(),f;if(plugin_Skin.config.useSkinPlugin){$.each(plugin_Skin.config.skins[plugin_Skin.config.defaultSkin],function(a,b){app.debug.debug("plugin_Skin.pluginsLoaded() - Load css: "+b);d.push(app.load.css(b))});f=$.when.apply($,d);f.done(function(){app.debug.debug("plugin_Skin.pluginsLoaded() - loading css files done");e.resolve()}).fail(function(){app.debug.debug("plugin_Skin.pluginsLoaded() - loading css files failes");e.reject()});return e.promise()}else{return e.resolve()}},pagesLoaded:function(){app.debug.alert("plugin_Skin.pagesLoaded()",11);var b=$.Deferred();b.resolve();return b.promise()},definePluginEvents:function(){app.debug.trace("plugin_Skin.definePluginEvents()")},afterHtmlInjectedBeforePageComputing:function(b){app.debug.trace("plugin_Skin.afterHtmlInjectedBeforePageComputing()")},pageSpecificEvents:function(b){app.debug.trace("plugin_Skin.pageSpecificEvents()")},functions:{changeSkin:function(b){app.debug.trace("plugin_Skin.functions.change()");if(this.skinAvailable(b)){app.info.set("plugin_Skin.config.defaultSkin",b);return true}else{return false}},skinAvailable:function(b){app.debug.trace("plugin_Skin.functions.skinAvailable()");if(this.getAvailableSkins().indexOf(b)!=-1){app.debug.debug("plugin_Skin.functions.skinAvailable() - skin available: "+b);return true}else{app.debug.trace("plugin_Skin.functions.skinAvailable() - skin not available: "+b);return false}},getAvailableSkins:function(){app.debug.trace("plugin_Skin.functions.getAvailableSkins()");return Object.keys(plugin_Skin.config.skins)},getCurrentSkin:function(){app.debug.trace("plugin_Skin.functions.gatAvailableSkins()");return plugin_Skin.config.defaultSkin}}};var config_Skin={name:"Skin",shortname:"skin",useSkinPlugin:false,defaultSkin:"modern",skins:{icon:["../css/skin/icon/fonts.css","../css/skin/icon/global.css","../css/skin/icon/platform.android.css","../css/skin/icon/platform.desktop.css","../css/skin/icon/platform.ios.css","../css/skin/icon/platform.mobile.css","../css/skin/icon/platform.cordova.css","../css/skin/icon/platform.windows.css"],modern:["../css/skin/modern/fonts.css","../css/skin/modern/global.css","../css/skin/modern/platform.android.css","../css/skin/modern/platform.desktop.css","../css/skin/modern/platform.ios.css","../css/skin/modern/platform.mobile.css","../css/skin/modern/platform.cordova.css","../css/skin/modern/platform.windows.css"],text:["../css/skin/text/fonts.css","../css/skin/text/global.css","../css/skin/text/platform.android.css","../css/skin/text/platform.desktop.css","../css/skin/text/platform.ios.css","../css/skin/text/platform.mobile.css","../css/skin/text/platform.cordova.css","../css/skin/text/platform.windows.css"]}};var plugin_WebServiceClient={config:null,constructor:function(){var b=$.Deferred();b.resolve();return b.promise()},pluginsLoaded:function(){app.debug.alert(""+this.config.name+".pluginsLoaded()",11);var b=$.Deferred();b.resolve();return b.promise()},pagesLoaded:function(){app.debug.alert("plugin_"+this.config.name+".pagesLoaded()",11);var b=$.Deferred();b.resolve();return b.promise()},definePluginEvents:function(){app.debug.alert("plugin_"+this.config.name+".definePluginEvents()",11)},afterHtmlInjectedBeforePageComputing:function(b){app.debug.alert("Plugin: "+this.config.name+".afterHtmlInjectedBeforePageComputing()")},pageSpecificEvents:function(b){app.debug.alert("Plugin: "+this.config.name+".pageSpecificEvents()")},getPreferedServer:function(b){app.debug.alert("plugin_WebServiceClient.getPreferedServer()");plugin_WebServiceClient.setPreferedServer(b);return plugin_WebServiceClient.config.preferedServer[b]},setPreferedServer:function(b){app.debug.alert("plugin_WebServiceClient.setPreferedServer() ... mehrere server implementieren");$.each(plugin_WebServiceClient.config.server,function(d,a){if(a.active===true){if(plugin_WebServiceClient.config.preferedServer==undefined){app.info.set("plugin_WebServiceClient.config.preferedServer",{})}app.info.set("plugin_WebServiceClient.config.preferedServer."+d,{});app.info.set("plugin_WebServiceClient.config.preferedServer."+d+".scheme",a.first.scheme);app.info.set("plugin_WebServiceClient.config.preferedServer."+d+".scheme_specific_part",a.first.scheme_specific_part);app.info.set("plugin_WebServiceClient.config.preferedServer."+d+".host",a.first.host);app.info.set("plugin_WebServiceClient.config.preferedServer."+d+".port",a.first.port);app.info.set("plugin_WebServiceClient.config.preferedServer."+d+".path",a.first.path)}})},getAjax:function(L,y,M,N,O,I,J,D){app.debug.alert("plugin_WebServiceClient.getAjax("+L+", "+y+", "+N+", "+O+", "+I+", "+J+")");app.debug.alert("plugin_WebServiceClient.getAjax() - webservice: "+L+"?"+y);var B=null,A=null,P=null,C,R,F,x,E,H,Q,z,G;if(J){app.debug.alert("plugin_WebServiceClient.getAjax() - case: webservice is async - create deferred object");A=$.Deferred();B=A.promise()}if(y.indexOf("")!=-1){app.debug.alert("plugin_WebServiceClient.getAjax() - case: webservice needs special headers");R=y.split("");P=R[1];y=R[0]}C="application/x-www-form-urlencoded";if(D!=undefined){app.debug.alert("plugin_WebServiceClient.getAjax() - case: dataType != undefined");if(D.toLowerCase()=="query"){app.debug.alert("plugin_WebServiceClient.getAjax() - case: contentType = text/plain");$.each(M,function(a,b){if(typeof b=="object"){app.debug.alert("plugin_WebServiceClient.getAjax() - case: value == object");if(b instanceof Array){app.debug.alert("plugin_WebServiceClient.getAjax() - case: value == array");z="";for(v in b){z+="&"+a+"="+encodeURIComponent(b[v]);app.debug.alert("plugin_WebServiceClient.getAjax() - array value: "+z)}z=z.substring(z.indexOf("=")+1);y=y.replace("{"+a+"}",z);app.debug.alert("pugin.RestClient.js ~ plugin_WebServiceClient.getAjax() - set in data: "+a+" = "+z)}else{app.debug.alert("plugin_WebServiceClient.getAjax() - case: value == undefined object");b=JSON.stringify(b);y=y.replace("{"+a+"}",encodeURIComponent(b));app.debug.alert("pugin.RestClient.js ~ plugin_WebServiceClient.getAjax() - set in data: "+a+" = "+encodeURIComponent(b))}}else{app.debug.alert("plugin_WebServiceClient.getAjax() - case: value != array");y=y.replace("{"+a+"}",encodeURIComponent(b));app.debug.alert("pugin.RestClient.js ~ plugin_WebServiceClient.getAjax() - set in data: "+a+" = "+encodeURIComponent(b))}});L+="?"+y;y="";C="text/plain"}else{if(D.toLowerCase()=="json"){app.debug.alert("plugin_WebServiceClient.getAjax() - case: contentType = application/json; charset=utf-8");app.debug.alert("plugin_WebServiceClient.getAjax() - create json object");F={};x=y.split("&");for(i in x){Q=x[i].indexOf("=");E=x[i].substring(0,Q);H=x[i].substring(Q+1);if(H.indexOf("{")!=-1){app.debug.alert("plugin_WebServiceClient.getAjax() - parameter: "+E+" = "+M[E]);F[E]=M[E]}else{app.debug.alert("plugin_WebServiceClient.getAjax() - parameter: "+E+" = "+H);F[E]=H}}y=JSON.stringify(F);C="application/json; charset=utf-8"}else{if(D.toLowerCase()=="form"){app.debug.alert("plugin_WebServiceClient.getAjax() case: contentType = application/x-www-form-urlencoded");$.each(M,function(a,b){if(typeof b=="object"){b=JSON.stringify(b);y=y.replace("{"+a+"}",encodeURIComponent(b))}else{y=y.replace("{"+a+"}",encodeURIComponent(b))}app.debug.alert("pugin.RestClient.js ~ plugin_WebServiceClient.getAjax() - set in data: "+a+" = "+encodeURIComponent(b))});C="application/x-www-form-urlencoded; charset=UTF-8"}else{alert("unknown type: "+D)}}}}try{app.debug.alert("plugin_WebServiceClient.getAjax() - ajax request");app.debug.alert("plugin_WebServiceClient.getAjax() - ajax parameter: url = "+L);app.debug.alert("plugin_WebServiceClient.getAjax() - ajax parameter: data = "+y);app.debug.alert("plugin_WebServiceClient.getAjax() - ajax parameter: dataType = "+D);app.debug.alert("plugin_WebServiceClient.getAjax() - ajax parameter: contentType = "+C);app.debug.alert("plugin_WebServiceClient.getAjax() - ajax parameter: async = "+J);app.debug.alert("plugin_WebServiceClient.getAjax() - ajax parameter: method = "+O);app.debug.alert("plugin_WebServiceClient.getAjax() - ajax parameter: timeout = "+I);$.ajax({url:L,data:y,dataType:N,contentType:C,async:J,method:O,timeout:I,beforeSend:function(c,d){app.debug.alert("plugin_WebServiceClient.getAjax() beforeSend: set http headers");if(plugin_WebServiceClient.config.useHeaderToken){app.debug.alert("plugin_WebServiceClient.getAjax() case: plugin_WebServiceClient.config.useHeaderToken = true");app.debug.alert("plugin_WebServiceClient.getAjax() paramerter: "+plugin_WebServiceClient.config.headerToken.key+" = "+app.store.localStorage.get(plugin_WebServiceClient.config.headerToken.value));c.setRequestHeader(plugin_WebServiceClient.config.headerToken.key,app.store.localStorage.get(plugin_WebServiceClient.config.headerToken.value))}if(P!=null){app.debug.alert("plugin_WebServiceClient.getAjax() - case: headers != null");app.debug.alert("plugin_WebServiceClient.getAjax() - set additional headers");var b=P.split("&"),a;for(i in b){a=b[i].split("=");E=a[0];H=a[1];if(H.indexOf("{")!=-1){H=M[E]}app.debug.alert("plugin_WebServiceClient.getAjax() - setRequestHeader("+E+", "+H+")");c.setRequestHeader(a[0],a[1])}}},success:function(c,b,a){app.debug.alert("plugin.WebServiceClient.js plugin_WebServiceClient.getAjax() - Webservice done: "+JSON.stringify(c));B=c;app.debug.alert("plugin_WebServiceClient.getAjax() - start exception handling");if(plugins.config.WebServiceError===true){app.debug.alert("plugin_WebServiceClient.getAjax() - case: wse plugin is active");if((G=app.wse.getExceptionConfig(c))===false){if(A!=undefined&&A!=null){app.debug.alert("plugin_WebServiceClient.getAjax() - case: no exception: "+JSON.stringify(B));A.resolve(B)}}else{if(A!=undefined&&A!=null){app.debug.alert("plugin_WebServiceClient.getAjax() - case: exception found: "+JSON.stringify(G));A.reject(G)}}}else{if(A!=undefined&&A!=null){console.warn("Webservice Success!: Please use the plugin.WebServiceError (wse) to compute your errors and exceptions");A.resolve(B)}}},error:function(a,b,c){app.debug.alert("plugin_WebServiceClient.getAjax() - error: "+c);app.debug.alert("plugin_WebServiceClient.getAjax() - error: "+JSON.stringify(a));app.debug.alert("plugin_WebServiceClient.getAjax() - error: "+b);B=null;if(A!=undefined&&A!=null){app.debug.alert("plugin_WebServiceClient.getAjax() - case: reject deferred object");if(plugins.config.WebServiceError===true){app.debug.alert("plugin_WebServiceClient.getAjax() - case: wse plugin is active");A.reject(app.wse.getExceptionConfig(a))}else{console.warn("Webservice Error!: Please use the plugin.WebServiceError (wse) to compute your errors and exceptions");A.reject({call:{url:L,data:y,type:N,async:J,mehtod:O,timeout:I},jqXHR:JSON.parse(JSON.stringify(a))})}}}})}catch(K){app.debug.alert("plugin_WebServiceClient.getAjax() - catch block: "+JSON.stringify(K));B=null}app.debug.alert("plugin_WebServiceClient.getAjax() - Webservice returns: "+JSON.stringify(B));return B},functions:{getXml:function(f,j,h,k){app.debug.trace("plugin_WebServiceClient.functions.getXml()");var g=plugin_WebServiceClient.getAjax(f,j,"xml");return g},getJson:function(n,t,p,z,s,u,r,w){app.debug.trace("plugin_WebServiceClient.functions.getJson()");var y=null,q=null,o,x;if(r===true){app.debug.alert("plugin_WebServiceClient.functions.getJson() - case: local == true");y=n}else{app.debug.alert("plugin_WebServiceClient.functions.getJson() - case: local == false");x=plugin_WebServiceClient.getPreferedServer(w);y=x.scheme+x.scheme_specific_part+x.host+":"+x.port+x.path+n;q=plugin_WebServiceClient.config.server[w].mappings[z.toLowerCase()]}o=plugin_WebServiceClient.getAjax(y,t,p,"json",z,s,u,q);return o},askForPreferedServer:function(){app.debug.trace("plugin_WebServiceClient.functions.askForPreferedServer()");var b=null;plugin_WebServiceClient.config.preferedServer=b;return success},getDefaultServerName:function(){app.debug.trace("plugin_WebServiceClient.functions.getDefaultServerName()");return plugin_WebServiceClient.config.defaultServer},getServer:function(e,d){app.debug.trace("plugin_WebServiceClient.functions.getServer()");var f=plugin_WebServiceClient.getPreferedServer(e);if(d==undefined){d=false}if(d===true){app.debug.debug("plugin_WebServiceClient.functions.getServer() - case: return server as object: "+JSON.stringify(f));return f}else{if(d==false){f=f.scheme+f.scheme_specific_part+f.host+":"+f.port+f.path;app.debug.debug("plugin_WebServiceClient.functions.getServer() - case: return server as string");return f}else{console.error("Error")}}},setServer:function(m,n,l){app.debug.trace("plugin_WebServiceClient.functions.setServer()");n=URI(n);var o,h,j,k;o=n.scheme();h=n.hostname();j=n.port();k=n.path();if(o===""){app.debug.debug("plugin_WebServiceClient.functions.setServer() - case: scheme is not set");o="http"}if(h===""){}if(j===""){app.debug.debug("plugin_WebServiceClient.functions.setServer() - case: port is not set");if(o==="http"){app.debug.debug("plugin_WebServiceClient.functions.setServer() - case: scheme == http - use port: 80");j=80}else{if(o==="https"){app.debug.debug("plugin_WebServiceClient.functions.setServer() - case: scheme == https - use port: 443");j=443}}}if(k===""){app.debug.debug("plugin_WebServiceClient.functions.setServer() - case: path is not set");k=plugin_WebServiceClient.config.server[m].template.path}app.info.set("plugin_WebServiceClient.config.server."+m+".first.scheme",o);app.info.set("plugin_WebServiceClient.config.server."+m+".first.scheme_specific_part","://");app.info.set("plugin_WebServiceClient.config.server."+m+".first.host",h);app.info.set("plugin_WebServiceClient.config.server."+m+".first.port",j);app.info.set("plugin_WebServiceClient.config.server."+m+".first.path",k);return this.ping(m,l)},keepAliveRequest:function(){app.debug.trace("plugin_WebServiceClient.functions.keepAliveRequest()");console.error("Deprecated function!")},ping:function(h,f){app.debug.trace("plugin_WebServiceClient.functions.ping()");var j,k,g;j=plugin_WebServiceClient.config.server[h].pingPath;k=plugin_WebServiceClient.getPreferedServer(h);g=k.scheme+k.scheme_specific_part+k.host+":"+k.port+k.path+j;if(f){return globalLoader.AsyncJsonLoader(g)}else{return globalLoader.JsonLoader(g)}}}};var config_WebServiceClient={name:"WebServiceClient",shortname:"wsc",defaultWebServiceTimeoutMs:5000,defaultWebServiceMethod:"post",defaultWebServiceType:"json",useKeepAlive:true,keepAlive:{keepAliveServer:"backmeup",keepAliveIntervalInS:15,keepAlivePath:"/keepAlive.json",method:"get",type:"json",timeout:"4500",lastDuration:null,isAlive:true,maximumResponseTime:4000,error:{text:"",code:0}},useServerShuffle:true,useHeaderToken:true,headerToken:{key:"Authorization",value:"themis-token"},defaultServer:"backmeup",server:{backmeup:{active:true,pingPath:"",mappings:{post:"json",get:"query",put:"query","delete":"query"},first:{scheme:"http",scheme_specific_part:"://",host:"themis-dev01.backmeup.at",port:80,path:""},second:{},third:{},fouth:{},fifth:{}},licence:{active:true,pingPath:"REST/ping",mappings:{post:"query",get:"query",put:"query","delete":"query"},first:{scheme:"http",scheme_specific_part:"://",host:"localhost",port:8080,path:""},second:{},third:{},fouth:{},fifth:{}}}};var plugin_WebServiceError={config:null,constructor:function(){var f=$.Deferred(),g,h,e;String.prototype.hashCode=function(){g=0;h=this.length;if(h==0){return g}for(i=0;i<h;i++){e=this.charCodeAt(i);g=((g<<5)-g)+e;g=g&g}return g};f.resolve();return f.promise()},pluginsLoaded:function(){app.debug.trace("plugin_WebServiceError.pluginsLoaded()");var e=$.Deferred(),d=Array(),f;if(plugin_WebServiceError.config.errorKeys==undefined){app.debug.error("No errorKeys Array in plugin.WebServiceError.json");e.reject()}$.each(plugin_WebServiceError.config.wseFiles,function(a,b){if(b){d.push(plugin_WebServiceError.loadDefinitionFileAsync(a))}});f=$.when.apply($,d);f.done(function(){e.resolve()});f.fail(function(){e.reject()});return e.promise()},pagesLoaded:function(){app.debug.trace("plugin_WebServiceError.pagesLoaded()");var b=$.Deferred();b.resolve();return b.promise()},definePluginEvents:function(){app.debug.trace("plugin_WebServiceError.definePluginEvents()")},afterHtmlInjectedBeforePageComputing:function(b){app.debug.trace("plugin_WebServiceError.afterHtmlInjectedBeforePageComputing()")},pageSpecificEvents:function(b){app.debug.trace("plugin_WebServiceError.pageSpecificEvents()")},loadDefinitionFileAsync:function(d){app.debug.trace("plugin_WebServiceError.loadDefinitionFileAsync("+d+")",20);var e=$.Deferred(),f;f=globalLoader.AsyncJsonLoader(d);f.done(function(a){$.each(a,function(b,c){app.debug.debug("pugin.WebServiceError.js ~ plugin_WebServiceError.loadDefinitionFileAsync() - add: "+b,20);plugin_WebServiceError.config.wse[b]=c});e.resolve()});f.done(function(){e.reject()});return e.promise()},loadDefinitionFile:function(c){app.debug.trace("plugin_WebServiceError.loadDefinitionFile()");app.debug.debug("Load definition file: "+c);var d=globalLoader.JsonLoader(c);$.each(d,function(a,b){app.debug.debug("Add definition: "+a,20);plugin_WebServiceError.config.wse[a]=b})},functions:{action:function(b){app.debug.trace("plugin_WebServiceError.functions.action()")},getErrorName:function(d){app.debug.trace("plugin_WebServiceError.functions.getErrorName()");var c=false;if(d.statusText==="error"&&d.readyState===0&&d.status===0){app.debug.debug("plugin_WebServiceError.functions.getErrorName() - case: webservice timed out");c="timeout"}else{$.each(plugin_WebServiceError.config.errorKeys,function(a,b){if(d.hasOwnProperty(b)){app.debug.debug("plugin_WebServiceError.functions.getErrorName() - case: webservice result has error key: "+b);c=d[b];return false}})}return c},getExceptionConfig:function(d){app.debug.trace("plugin_WebServiceError.functions.getExceptionConfig()");var c=null;c=plugin_WebServiceError.functions.getErrorName(d);if(c){app.debug.debug("plugin_WebServiceError.functions.getExceptionConfig() - errors");for(key in plugin_WebServiceError.config.wse){app.debug.debug("plugin_WebServiceError.functions.getExceptionConfig() - "+key+" == "+c);if(key==c){app.debug.debug("plugin_WebServiceError.functions.getExceptionConfig() - case: error found");return{id:Math.abs(key.hashCode()),wse:plugin_WebServiceError.config.wse[key]}}}}return false}}};var config_WebServiceError={name:"WebServiceError",shortname:"wse",wseFiles:{"../files/wse/wse.http.json":true,"../files/wse/wse.moodle.json":true},actions:{redirect:"",logout:"",alert:"",confirmation:""},errorKeys:["error","exception"],wse:{"Template WebServiceErrorDefinition":{description:"Bad Request",action:""}}};var plugins={config:null,pluginNames:[],constructor:function(){var a=$.Deferred();startup.addFunction("lapstone is defining the plugins' events",plugins.callPluginEvents,"");startup.addFunction("lapstone is calling the plugins' loaded event",plugins.callPluginsLoadedEvent,"");startup.addFunction("lapstone is verifying the plugins' properties",plugins.verifyPlugins,"");startup.addFunction("lapstone is loading the plugins",plugins.loadPlugins,"");startup.addFunction("lapstone us verifying the plugins' configuration",plugins.verifyPluginNames,"");startup.addFunction("lapstone is loading the plugins' configuration",plugins.loadPluginConfig,"");a.resolve();return a.promise()},loadPluginConfig:function(){var a=$.Deferred(),b;if(app.config.min){plugins.config=config_json;a.resolve()}else{b=globalLoader.AsyncJsonLoader("../js/plugin/plugins.json");b.done(function(c){plugins.config=c;$.each(plugins.config,function(e,d){if(!d){delete plugins.config[e]}});a.resolve()});b.fail(function(){a.reject()})}return a.promise()},verifyPluginNames:function(){var a=$.Deferred();a.resolve();return a.promise()},verifyPlugins:function(){var a=$.Deferred();$.each(plugins.config,function(c,b){if(plugins.config.Debug&&b){if(!window["plugin_"+c].priv){console.warn("The plugin "+c+" has no priv object.")}}});a.resolve();return a.promise()},loadPluginConfiguration:function(b){var a=$.Deferred(),c;if(app.config.min){window["plugin_"+b].config=window["config_"+b];a.resolve()}else{c=globalLoader.AsyncJsonLoader("../js/plugin/plugin."+b+".json");c.done(function(d){window["plugin_"+b].config=d;a.resolve()});c.fail(function(){a.reject()})}return a.promise()},onPluginLoaded:function(b){var a=$.Deferred(),d,c;if(window["plugin_"+b]==undefined){alert("Fatal error: Plugin class is not defined: plugin_"+b);return}c=plugins.loadPluginConfiguration(b);c.done(function(){if(window["plugin_"+b].config.name==undefined){alert("Fatal error: The property 'name' is not defined in JSON file: ../js/plugin."+b+".json");return false}if(window["plugin_"+b].config.shortname==undefined){alert("Fatal error: The property 'shortname' is not defined in JSON file: ../js/plugin."+b+".json");return false}d=window["plugin_"+b].constructor();d.done(function(){app[window["plugin_"+b].config.shortname]=window["plugin_"+b].functions;plugins.pluginNames.push(b);a.resolve()});d.fail(function(){a.reject()})});c.fail(function(){a.reject()});return a.promise()},loadPlugins:function(){var a=$.Deferred(),d=Array(),c,e=Array(),b;$.each(plugins.config,function(f,g){if(g==true){if(app.config.min){d.push(plugins.onPluginLoaded(f))}else{d.push(globalLoader.AsyncScriptLoader("../js/plugin/plugin."+f+".js"))}}});c=$.when.apply($,d);if(app.config.min){c.done(function(){a.resolve()});c.fail(function(){a.reject()})}else{c.done(function(){$.each(plugins.config,function(f,g){e.push(plugins.onPluginLoaded(f))});b=$.when.apply($,e);b.done(function(){a.resolve()});b.fail(function(){a.reject()})});c.fail(function(){a.reject()})}return a.promise()},callPluginsLoadedEvent:function(){var a=$.Deferred(),b=Array(),c;$.each(plugins.pluginNames,function(d,e){b.push(window["plugin_"+e].pluginsLoaded())});c=$.when.apply($,b);c.done(function(){a.resolve()});c.fail(function(){a.reject()});return a.promise()},callPluginEvents:function(){var a=$.Deferred();$.each(plugins.pluginNames,function(b,c){window["plugin_"+c].definePluginEvents()});a.resolve();return a.promise()},functions:{pluginLoaded:function(a){app.debug.trace("plugins.functions.pluginLoaded()");if(plugins.config.hasOwnProperty(a)){app.debug.debug("plugins.functions.pluginLoaded() - true: "+a);return true}else{app.debug.debug("plugins.functions.pluginLoaded() - false: "+a);return false}}}};var config_json={Actions:true,Backmeup:true,Debug:true,Detector:true,DeviceManager:true,FormInputDesigner:true,GlobalSettings:true,HelperFunctions:true,HTML5Storage:true,HtmlTemplates:true,HtmlView:true,ImageProvider:true,IndexDb:true,Informator:true,jQueryExtend:true,KeepAlive:true,KeyValueStack:true,LoadExternalScripts:true,MultilanguageIso639_3:true,Navigation:true,Notification:true,OAuth:true,RestClient:true,Session:true,WebServiceClient:true,WebServiceError:true};