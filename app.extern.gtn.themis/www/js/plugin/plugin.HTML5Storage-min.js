var plugin_HTML5Storage={config:null,constructor:function(){},pluginsLoaded:function(){},pagesLoaded:function(){},definePluginEvents:function(){$("body").on("click","a",function(a){$.each($(this).attrs(),function(b,c){if(b.substring(0,11).trim().toLowerCase()=="data-html5-"){plugin_HTML5Storage.functions.localStorage.set(b,c)}})})},afterHtmlInjectedBeforePageComputing:function(a){app.debug.alert("Plugin: "+this.config.name+".afterHtmlInjectedBeforePageComputing()",5)},pageSpecificEvents:function(a){},setDeep:function(c,b,d){b=b.split(".");var a=0,e=b.length;for(;a<e-1;++a){c=c[b[a]]}return c[b[a]]=d},setDeepX:function(b,a,c){keyS=a.split(".");if(keyS[0]){if(keyS.length==1){b[keyS[0]]=c}else{if(b[keyS[0]]==undefined){b[keyS[0]]={}}b[keyS[0]]=this.setDeepX(b[keyS[0]],a.substr(keyS[0].length+1),c)}}return b},getDeep:function(c,b){b=b.split(".");var a=0,d=b.length;for(;a<d;++a){c=c[b[a]]}return c},parseValue:function(a){switch(a){case"true":a=true;break;case"false":a=false;break;case"null":a=null;break;default:if(/^(\+|\-){0,1}([0-9])+$/.test(a)){a=parseInt(a)}if(/^(\+|\-){0,1}([0-9])+(\.){1}([0-9])+$/.test(a)){a=parseFloat(a)}break}return a},functions:{loadValueIntoObject:function(a){var b=a.substring("config.".length);var c=this.localStorage.get(a);plugin_HTML5Storage.setDeep(window,b,c)},localStorage:{set:function(a,b){window.localStorage.setItem(app.config.name+"."+a,b)},get:function(a){return plugin_HTML5Storage.parseValue(window.localStorage.getItem(app.config.name+"."+a))},clear:function(){window.localStorage.clear()},clearHtml5:function(){$.each(window.localStorage,function(a,c){if(a.substr(app.config.name.length+1,10)=="data-html5"){try{window.localStorage.removeItem(a.trim())}catch(b){alert(b)}}})},removeItem:function(a){window.localStorage.removeItem(app.config.name+"."+a)},show:function(){var a="";var b=0;$.each(window.localStorage,function(c,d){if(c.substring(0,app.config.name.length)==app.config.name){a+=c.substring(app.config.name.length+1)+" = "+d+"\n";b++}if(b%20==0){alert(a);a=""}})},log:function(){$.each(window.localStorage,function(a,b){if(a.substring(0,app.config.name.length)==app.config.name){app.debug.log(a.substring(app.config.name.length+1)+" = "+b)}})},setObject:function(b,a){app.debug.alert("plugin_HTML5Storage.localStorage.setObject("+b+", "+JSON.stringify(a)+")",20);$.each(a,function(c,d){if(typeof d=="object"){plugin_HTML5Storage.functions.localStorage.setObject((b+"."+c).trim(),d)}else{plugin_HTML5Storage.functions.localStorage.set((b+"."+c).trim(),d)}})},getObject:function(b){var a={};$.each(window.localStorage,function(c,d){if(c.substr(app.config.name.length+1,b.length).trim()==b.trim()){a=plugin_HTML5Storage.setDeepX(a,c.substr(app.config.name.length+1),plugin_HTML5Storage.functions.localStorage.get(c.substr(app.config.name.length+1)))}});if(a[b]!=undefined){return a}else{return null}},removeObject:function(a){$.each(window.localStorage,function(b,d){if(b.substr(app.config.name.length+1,a.length)==a.trim()){try{window.localStorage.removeItem(b.trim())}catch(c){alert(c)}}})},getList:function(a){var b={};$.each(window.localStorage,function(c,d){if(c.substr(app.config.name.length+1,a.length)==a){b[c.substr(app.config.name.length+1)]=plugin_HTML5Storage.functions.localStorage.get(c.substr(app.config.name.length+1))}});return b}},sessionStorage:{set:function(a,b){window.sessionStorage.setItem(a,b)},get:function(a){window.sessionStorage.getItem(a)},clear:function(){window.sessionStorage.clear()},removeItem:function(a){window.sessionStorage.removeItem(a)},show:function(){}},ss:this.sessionStorage}};
